(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/layers/LayerView":1504,"esri/views/2d/engine/webgl/definitions":1506,"esri/views/2d/engine/Container":1510,"esri/views/2d/layers/LayerView2D":1512,"esri/views/2d/engine/webgl/Geometry":1517,"dojo/Stateful":1527,"esri/views/2d/engine/webgl/Rect":1528,"esri/views/2d/layers/features/support/Tile":1529,"esri/views/2d/engine/webgl/GeometryUtils":1532,"esri/views/2d/layers/features/support/TileStore":1549,"esri/views/layers/GraphicsView":1550,"esri/views/2d/engine/webgl/TileClipper":1557,"esri/views/2d/layers/support/GraphicsView2D":1566,"esri/views/2d/engine/webgl/GraphicContainer":1567,"esri/views/2d/layers/graphics/GraphicProcessingQueue":1570,"esri/views/2d/layers/graphics/GraphicStore":1571,"esri/views/2d/engine/webgl/util/iterator":1572,"esri/views/2d/layers/graphics/GraphicStoreItem":1573,"esri/views/2d/engine/webgl/TextShaping":1599,"dojox/string/BidiEngine":1600,"esri/views/2d/engine/webgl/LineTess":1601,"esri/views/2d/layers/MapNotesLayerView2D":2271})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1504:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(48),i(1503),i(210),i(10),i(209),i(9),i(0)],void 0===(o=function(t,e,i,r,o,n,s,a,h,c,u){return function(t){function e(e){var i=t.call(this)||this;return i.layer=null,i.parent=null,i.view=null,i}return i(e,t),e.prototype.initialize=function(){var t=this;this.addResolvingPromise(this.layer),this.when().catch(function(e){if("layerview:create-error"!==e.name){var i=t.layer&&t.layer.id||"no id",r=t.layer&&t.layer.title||"no title";return a.getLogger(t.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+r+"', id: '"+i+"')",e),c.reject(e)}})},e.prototype.destroy=function(){this.layer=this.view=this.parent=null},Object.defineProperty(e.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updating",{get:function(){return!this.suspended&&this.isUpdating()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(t){void 0!==t?this._override("visible",t):this._clearOverride("visible")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullOpacity",{get:function(){var t=function(t){return null==t?1:t};return t(this.get("layer.opacity"))*t(this.get("parent.fullOpacity"))},enumerable:!0,configurable:!0}),e.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1},e.prototype.isUpdating=function(){return!1},r([u.property()],e.prototype,"layer",void 0),r([u.property()],e.prototype,"parent",void 0),r([u.property({readOnly:!0,dependsOn:["view","visible","layer.loaded","parent.suspended"]})],e.prototype,"suspended",null),r([u.property({type:Boolean,dependsOn:["suspended"],readOnly:!0})],e.prototype,"updating",null),r([u.property()],e.prototype,"view",void 0),r([u.property({dependsOn:["layer.visible"]})],e.prototype,"visible",null),r([u.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],e.prototype,"fullOpacity",null),r([u.subclass("esri.views.layers.LayerView")],e)}(u.declared(n,o,s.Identifiable,h))}.apply(null,r))||(t.exports=o)},1506:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EXTRUDE_SCALE=64,e.PICTURE_FILL_COLOR=4294967295,e.TILE_SIZE=512,e.ANGLE_FACTOR_256=256/360,e.DEBUG_LABELS=!1,e.COLLISION_BUCKET_SIZE=128,e.DOT_DENSITY_MAX_FIELDS=8,e.COLLISION_MAX_ZOOM_DELTA=3,e.COLLISION_EARLY_REJECT_BUCKET_SIZE=16,e.COLLISION_BOX_PADDING=8,e.COLLISION_TILE_BOX_SIZE=e.TILE_SIZE/e.COLLISION_BUCKET_SIZE,e.COLLISION_PLACEMENT_PADDING=8,e.HEURISTIC_GLYPHS_PER_LINE=50,e.HEURISTIC_GLYPHS_PER_FEATURE=10,e.GLYPH_SIZE=24,e.TEXT_LINE_HEIGHT=1.2*e.GLYPH_SIZE,e.TEXT_MAX_WIDTH=10*e.GLYPH_SIZE,e.TEXT_SPACING=0,e.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}},e.TEXTURE_BINDING_SPRITE_ATLAS=0,e.TEXTURE_BINDING_GLYPH_ATLAS=1,e.TEXTURE_BINDING_HIGHLIGHT_0=2,e.TEXTURE_BINDING_HIGHLIGHT_1=3,e.TEXTURE_BINDING_RENDERER_0=4,e.TEXTURE_BINDING_RENDERER_1=5,e.MAX_FILTERS=2,e.FILTER_FLAG_0=1,e.EFFECT_FLAG_0=2}.apply(null,r))||(t.exports=o)},1510:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(5),i(548)],void 0===(o=function(t,e,i,r){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._childrenSet=new Set,e._childrenToAttach=[],e._childrenToDetach=[],e._renderPhase=3,e.children=[],e}return i(e,t),Object.defineProperty(e.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e.prototype.detach=function(){for(var t=0,e=this.children.concat(this._childrenToDetach);t<e.length;t++){var i=e[t];i.attached&&(this.detachChild(i),i.attached=!1,i.parent=null)}},e.prototype.doRender=function(t){var e=t.globalOpacity;t.globalOpacity*=this.opacity,this._renderPhase=0,this.attachChildren(),this._renderPhase=1;for(var i=this._childrenToDetach;i.length>0;){var r=i.shift();this.detachChild(r),r.attached=!1,r.parent=null,r.stage=null}this._renderPhase=2,this.renderChildren(t),this._renderPhase=3,t.globalOpacity=e},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},e.prototype.addChildAt=function(t,e){if(void 0===e&&(e=this.numChildren),!t)return t;if(this.contains(t))return t;var i=t.parent;i&&i!==this&&i.removeChild(t),e>=this.numChildren?this.children.push(t):this.children.splice(e,0,t),this._childrenSet.add(t);var r=this._childrenToDetach.indexOf(t);return r>-1&&this._childrenToDetach.splice(r,1),this._childrenToAttach.push(t),this._renderPhase>=2&&this.requestRender(),t},e.prototype.contains=function(t){return this._childrenSet.has(t)},e.prototype.getChildIndex=function(t){return this.children.indexOf(t)},e.prototype.getChildAt=function(t){return t<0||t>this.children.length?null:this.children[t]},e.prototype.removeAllChildren=function(){for(var t=this.numChildren;t--;)this.removeChildAt(0)},e.prototype.removeChild=function(t){return this.contains(t)?this.removeChildAt(this.getChildIndex(t)):t},e.prototype.removeChildAt=function(t){var e;if(t<0||t>=this.children.length)return null;if(e=this.children.splice(t,1)[0],function(t,e){t.delete(e)}(this._childrenSet,e),e.attached)this._childrenToDetach.push(e),this._renderPhase>=2&&this.requestRender();else{var i=this._childrenToAttach.indexOf(e);i>-1&&this._childrenToAttach.splice(i,1)}return e},e.prototype.requestChildRender=function(t){t&&t.parent===this&&this._renderPhase>=2&&this.requestRender()},e.prototype.setChildIndex=function(t,e){var i=this.getChildIndex(t);i>-1&&(this.children.splice(i,1),this.children.splice(e,0,t),this._renderPhase>=2&&this.requestRender())},e.prototype.sortChildren=function(t){return this._renderPhase>2&&this.requestRender(),this.children.sort(t)},e.prototype.attachChildren=function(){var t=this._childrenToAttach;if(0!==t.length)for(var e=0,i=!1;!i;){var r=t[e];r.parent=this,r.stage=this.stage,this.attachChild(r)?(r.attached=!0,t.splice(e,1)):++e,i=t.length===e}},e.prototype.renderChildren=function(t){for(var e=this.children,i=e.length,r=0;r<i;r++)e[r].processRender(t)},e.prototype.attachChild=function(t){return t.attach()},e.prototype.detachChild=function(t){t.detach()},e}(r.DisplayObject);e.Container=o}.apply(null,r))||(t.exports=o)},1512:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(21),i(0),i(1504)],void 0===(o=function(t,e,i,r,o,n,s){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attached=!1,e.lastUpdateId=-1,e.moving=!1,e.updateRequested=!1,e}return i(e,t),e.prototype.initialize=function(){var t=this;this.when(function(){t.requestUpdate()});var e=function(){return t.notifyChange("rendering")};this.handles.add([o.init(this,"suspended",function(e){t.container&&(t.container.visible=!e),t.view&&!e&&t.updateRequested&&t.view.requestLayerViewUpdate(t)},!0),o.init(this,"fullOpacity",function(e){t.container&&(t.container.opacity=e)},!0),o.on(this,"container","post-render",e),o.on(this,"container","will-render",e)])},e.prototype.destroy=function(){this.attached&&(this.attached=!1,this.detach()),this.handles.remove("initialize"),this.updateRequested=!1,this.layer=null},Object.defineProperty(e.prototype,"rendering",{get:function(){return this.attached&&!this.suspended&&(this.moving||this.container.renderRequested||this.isRendering())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updating",{get:function(){return!this.suspended&&(!this.attached||this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),e.prototype.isVisibleAtScale=function(t){var e=!0,i=this.layer,r=i.minScale,o=i.maxScale;if(null!=r&&null!=o){var n=!r,s=!o;!n&&t<=r&&(n=!0),!s&&t>=o&&(s=!0),e=n&&s}return e},e.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestLayerViewUpdate(this))},e.prototype.processUpdate=function(t){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1},e.prototype.isUpdating=function(){return!1},e.prototype.isRendering=function(){return!1},e.prototype.canResume=function(){var t=this.inherited(arguments);return t&&(t=this.isVisibleAtScale(this.view.scale)),t},r([n.property()],e.prototype,"attached",void 0),r([n.property()],e.prototype,"container",void 0),r([n.property()],e.prototype,"moving",void 0),r([n.property({dependsOn:["attached","suspended","moving"]})],e.prototype,"rendering",null),r([n.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],e.prototype,"suspended",void 0),r([n.property({readOnly:!0})],e.prototype,"updateParameters",void 0),r([n.property()],e.prototype,"updateRequested",void 0),r([n.property({dependsOn:["updateRequested","attached"]})],e.prototype,"updating",null),r([n.property()],e.prototype,"view",void 0),r([n.subclass("esri.views.2d.layers.LayerView2D")],e)}(n.declared(s))}.apply(null,r))||(t.exports=o)},1517:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(t,e){return t===this.x&&e===this.y},t.prototype.isEqual=function(t){return t.x===this.x&&t.y===this.y},t.prototype.setCoords=function(t,e){this.x=t,this.y=e},t.prototype.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);this.x/=i,this.y/=i},t.prototype.rightPerpendicular=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.move=function(t,e){this.x+=t,this.y+=e},t.prototype.assign=function(t){this.x=t.x,this.y=t.y},t.prototype.assignAdd=function(t,e){this.x=t.x+e.x,this.y=t.y+e.y},t.prototype.assignSub=function(t,e){this.x=t.x-e.x,this.y=t.y-e.y},t.prototype.rotate=function(t,e){var i=this.x,r=this.y;this.x=i*t-r*e,this.y=i*e+r*t},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.distance=function(t,e){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},t.add=function(e,i){return new t(e.x+i.x,e.y+i.y)},t.sub=function(e,i){return new t(e.x-i.x,e.y-i.y)},t}();e.Point=i}.apply(null,r))||(t.exports=o)},1527:function(t,e,i){var r,o;r=[i(351),i(30),i(70),i(364)],void 0===(o=function(t,e,i,r){return t("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(t){var e=this._attrPairNames;return e[t]?e[t]:e[t]={s:"_"+t+"Setter",g:"_"+t+"Getter"}},postscript:function(t){t&&this.set(t)},_get:function(t,e){return"function"==typeof this[e.g]?this[e.g]():this[t]},get:function(t){return this._get(t,this._getAttrNames(t))},set:function(t,e){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,t[i]);return this}var o,n=this._getAttrNames(t),s=this._get(t,n),a=this[n.s];if("function"==typeof a?o=a.apply(this,Array.prototype.slice.call(arguments,1)):this[t]=e,this._watchCallbacks){var h=this;r(o,function(){h._watchCallbacks(t,s,e)})}return this},_changeAttrValue:function(t,e){var i=this.get(t);return this[t]=e,this._watchCallbacks&&this._watchCallbacks(t,i,e),this},watch:function(t,e){var r=this._watchCallbacks;if(!r){var o=this;r=this._watchCallbacks=function(t,e,i,n){var s=function(r){if(r)for(var n=0,s=(r=r.slice()).length;n<s;n++)r[n].call(o,t,e,i)};s(r["_"+t]),n||s(r["*"])}}e||"function"!=typeof t?t="_"+t:(e=t,t="*");var n=r[t];"object"!=typeof n&&(n=r[t]=[]),n.push(e);var s={};return s.unwatch=s.remove=function(){var t=i.indexOf(n,e);t>-1&&n.splice(t,1)},s}})}.apply(null,r))||(t.exports=o)},1528:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){return function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.width<=0||this.height<=0},enumerable:!0,configurable:!0}),t}()}.apply(null,r))||(t.exports=o)},1529:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(170),i(213),i(37),i(557),i(352)],void 0===(o=function(t,e,i,r,o,n,s){function a(t,e){var i=t.bounds,r=e.bounds;return t.key.id!==e.key.id&&t.key.world===e.key.world&&i[0]<=r[0]&&i[1]<=r[1]&&i[2]>=r[2]&&i[3]>=r[3]}Object.defineProperty(e,"__esModule",{value:!0}),e.isParentOf=a,e.isChildOf=function(t,e){return a(e,t)};var h=function(){function t(t,e){this.bounds=o.create(),this.key=new s(0,0,0,0),this.objectIds=new i.default,this.key.set(e);var r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.scale=r.scale,this.level=r.level,this.needsClear=!0}return Object.defineProperty(t.prototype,"id",{get:function(){return this.key.id},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.tileInfoView,this.id)},t.prototype.createChildTiles=function(){for(var e=this.key.getChildKeys(),i=r.acquire(),o=0;o<e.length;o++)i[o]=new t(this.tileInfoView,e[o]);return i},t.prototype.getQuantizationParameters=function(){return n.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})},t}();e.Tile=h,e.default=h}.apply(null,r))||(t.exports=o)},1532:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.C_INFINITY=Number.POSITIVE_INFINITY,e.C_PI=Math.PI,e.C_2PI=2*e.C_PI,e.C_PI_BY_2=e.C_PI/2,e.C_RAD_TO_256=128/e.C_PI,e.C_256_TO_RAD=e.C_PI/128,e.C_DEG_TO_256=256/360,e.C_DEG_TO_RAD=e.C_PI/180,e.C_SQRT2=1.414213562,e.C_SQRT2_INV=1/e.C_SQRT2;var i=1/Math.LN2;function r(t,e){return 0<=(t%=e)?t:t+e}e.positiveMod=r,e.radToByte=function(t){return r(t*e.C_RAD_TO_256,256)},e.degToByte=function(t){return r(t*e.C_DEG_TO_256,256)},e.log2=function(t){return Math.log(t)*i},e.sqr=function(t){return t*t},e.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},e.interpolate=function(t,e,i){return t*(1-i)+e*i},e.between=function(t,e,i){return e<=t&&t<=i||i<=t&&t<=e}}.apply(null,r))||(t.exports=o)},1549:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(5),i(1),i(170),i(48),i(19),i(1533),i(1529),i(352)],void 0===(o=function(t,e,i,r,o,n,s,a,h,c){Object.defineProperty(e,"__esModule",{value:!0});var u={added:[],removed:[]},l=new o.default,d=new c(0,0,0,0),p=function(t){function e(e){var i=t.call(this)||this;return i._tiles=new Map,i._index=a(9,s("csp-restrictions")?function(t){return{minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),i.tiles=[],i.tileScheme=e,i}return i(e,t),e.prototype.destroy=function(){this._tiles.clear()},e.prototype.has=function(t){return this._tiles.has(t)},e.prototype.get=function(t){return this._tiles.get(t)},e.prototype.findByKey=function(t){return this._tiles.get(t.id)},e.prototype.intersections=function(t,e){var i="string"==typeof t?this.get(t):t;if(!i)return[];for(var r=e*i.resolution,o=i.bounds[0]-r,n=i.bounds[1]-r,s=i.bounds[2]+r,a=i.bounds[3]+r,h=[],c=0,u=this._index.search({minX:o,minY:n,maxX:s,maxY:a});c<u.length;c++){var l=u[c],d=l.bounds.slice();d[0]=Math.max(d[0],o),d[1]=Math.max(d[1],n),d[2]=Math.min(d[2],s),d[3]=Math.min(d[3],a),d[2]-d[0]>0&&d[3]-d[1]>0&&h.push({bounds:d,tile:l})}return h},e.prototype.boundsIntersections=function(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})},e.prototype.setViewState=function(t){var e=this.tileScheme.getTileCoverage(t,0);if(e){var i=e.spans,r=e.lodInfo,o=r.level;if(i.length>0)for(var n=0,s=i;n<s.length;n++)for(var a=s[n],c=a.row,p=a.colFrom,v=a.colTo,f=p;f<=v;f++){var y=d.set(o,c,r.normalizeCol(f),r.getWorldForColumn(f)).id;if(l.add(y),!this.has(y)){var g=new h.default(this.tileScheme,y);this._tiles.set(y,g),this._index.insert(g),this.tiles.push(g),u.added.push(g)}}for(var _=this.tiles.length-1;_>=0;_--){g=this.tiles[_];l.has(g.id)||(this._tiles.delete(g.id),this.tiles.splice(_,1),this._index.remove(g),u.removed.push(g))}(u.added.length||u.removed.length)&&this.emit("update",u),l.clear(),u.added.length=0,u.removed.length=0}},e}(n);e.default=p}.apply(null,r))||(t.exports=o)},1550:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(6),i(0)],void 0===(o=function(t,e,i,r,o,n){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.renderer=null,e.view=null,e}return i(e,t),r([n.property()],e.prototype,"graphics",void 0),r([n.property()],e.prototype,"renderer",void 0),r([n.property()],e.prototype,"view",void 0),r([n.subclass("esri.views.layers.GraphicsView")],e)}(n.declared(o))}.apply(null,r))||(t.exports=o)},1557:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(1506),i(1517),i(1532)],void 0===(o=function(t,e,i,r,o){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.ratio=t,this.x=e,this.y=i},s=function(){function t(t,e,r,o,n){void 0===o&&(o=8),void 0===n&&(n=8),this.lines=[],this.starts=[],this.pixelRatio=o,this.pixelMargin=n,this.tileSize=i.TILE_SIZE*o,this.dz=t,this.yPos=e,this.xPos=r}return t.prototype.setExtent=function(t){this.finalRatio=this.tileSize/t*(1<<this.dz);var e=this.pixelRatio*this.pixelMargin;e/=this.finalRatio;var i=t>>this.dz;i<e&&(e=i),this.margin=e,this.xmin=i*this.xPos-e,this.ymin=i*this.yPos-e,this.xmax=this.xmin+i+2*e,this.ymax=this.ymin+i+2*e},t.prototype.reset=function(t){this.type=t,this.lines=[],this.starts=[],this.line=null,this.start=0},t.prototype.moveTo=function(t,e){this._pushLine(),this._prevIsIn=this._isIn(t,e),this._moveTo(t,e,this._prevIsIn),this._prevPt=new r.Point(t,e),this._firstPt=new r.Point(t,e),this._dist=0},t.prototype.lineTo=function(t,e){var i,o,s,a,h,c,u,l,d=this._isIn(t,e),p=new r.Point(t,e),v=r.Point.distance(this._prevPt,p);if(d)this._prevIsIn?this._lineTo(t,e,!0):(i=this._prevPt,o=p,s=this._intersect(o,i),this.start=this._dist+v*(1-this._r),this._lineTo(s.x,s.y,!0),this._lineTo(o.x,o.y,!0));else if(this._prevIsIn)o=this._prevPt,i=p,s=this._intersect(o,i),this._lineTo(s.x,s.y,!0),this._lineTo(i.x,i.y,!1);else{var f=this._prevPt,y=p;if(f.x<=this.xmin&&y.x<=this.xmin||f.x>=this.xmax&&y.x>=this.xmax||f.y<=this.ymin&&y.y<=this.ymin||f.y>=this.ymax&&y.y>=this.ymax)this._lineTo(y.x,y.y,!1);else{var g=[];if((f.x<this.xmin&&y.x>this.xmin||f.x>this.xmin&&y.x<this.xmin)&&(a=(this.xmin-f.x)/(y.x-f.x),(l=f.y+a*(y.y-f.y))<=this.ymin?c=!1:l>=this.ymax?c=!0:g.push(new n(a,this.xmin,l))),(f.x<this.xmax&&y.x>this.xmax||f.x>this.xmax&&y.x<this.xmax)&&(a=(this.xmax-f.x)/(y.x-f.x),(l=f.y+a*(y.y-f.y))<=this.ymin?c=!1:l>=this.ymax?c=!0:g.push(new n(a,this.xmax,l))),(f.y<this.ymin&&y.y>this.ymin||f.y>this.ymin&&y.y<this.ymin)&&(a=(this.ymin-f.y)/(y.y-f.y),(u=f.x+a*(y.x-f.x))<=this.xmin?h=!1:u>=this.xmax?h=!0:g.push(new n(a,u,this.ymin))),(f.y<this.ymax&&y.y>this.ymax||f.y>this.ymax&&y.y<this.ymax)&&(a=(this.ymax-f.y)/(y.y-f.y),(u=f.x+a*(y.x-f.x))<=this.xmin?h=!1:u>=this.xmax?h=!0:g.push(new n(a,u,this.ymax))),0===g.length)h?c?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):c?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<g.length&&g[0].ratio>g[1].ratio)this.start=this._dist+v*g[1].ratio,this._lineTo(g[1].x,g[1].y,!0),this._lineTo(g[0].x,g[0].y,!0);else{this.start=this._dist+v*g[0].ratio;for(var _=0;_<g.length;_++)this._lineTo(g[_].x,g[_].y,!0)}this._lineTo(y.x,y.y,!1)}}this._dist+=v,this._prevIsIn=d,this._prevPt=p},t.prototype.close=function(){if(2<this.line.length){var t=this._firstPt,e=this._prevPt;t.x===e.x&&t.y===e.y||this.lineTo(t.x,t.y);for(var i=this.line,r=i.length;4<=r&&(i[0].x===i[1].x&&i[0].x===i[r-2].x||i[0].y===i[1].y&&i[0].y===i[r-2].y);)i.pop(),i[0].x=i[r-2].x,i[0].y=i[r-2].y,--r}},t.prototype.result=function(t){return void 0===t&&(t=!0),this._pushLine(),0===this.lines.length?null:(3===this.type&&t&&h.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)},t.prototype.resultWithStarts=function(){if(2!==this.type)throw new Error("Only valid for lines");this._pushLine();var t=this.lines,e=t.length;if(0===e)return null;for(var i=[],r=0;r<e;r++)i.push({line:t[r],start:this.starts[r]||0});return i},t.prototype._isIn=function(t,e){return t>=this.xmin&&t<=this.xmax&&e>=this.ymin&&e<=this.ymax},t.prototype._intersect=function(t,e){var i,o,n;if(e.x>=this.xmin&&e.x<=this.xmax)n=((o=e.y<=this.ymin?this.ymin:this.ymax)-t.y)/(e.y-t.y),i=t.x+n*(e.x-t.x);else if(e.y>=this.ymin&&e.y<=this.ymax)n=((i=e.x<=this.xmin?this.xmin:this.xmax)-t.x)/(e.x-t.x),o=t.y+n*(e.y-t.y);else{o=e.y<=this.ymin?this.ymin:this.ymax;var s=((i=e.x<=this.xmin?this.xmin:this.xmax)-t.x)/(e.x-t.x),a=(o-t.y)/(e.y-t.y);s<a?(n=s,o=t.y+s*(e.y-t.y)):(n=a,i=t.x+a*(e.x-t.x))}return this._r=n,new r.Point(i,o)},t.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0},t.prototype._moveTo=function(t,e,i){3!==this.type?i&&(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(t,e))):(i||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),e<this.ymin&&(e=this.ymin),e>this.ymax&&(e=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(t,e)),this._is_h=!1,this._is_v=!1)},t.prototype._lineTo=function(t,e,i){var o,n;if(3!==this.type)if(i){if(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),0<this.line.length&&(o=this.line[this.line.length-1]).equals(t,e))return;this.line.push(new r.Point(t,e))}else this.line&&0<this.line.length&&this._pushLine();else if(i||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),e<this.ymin&&(e=this.ymin),e>this.ymax&&(e=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){var s=(o=this.line[this.line.length-1]).x===t,a=o.y===e;if(s&&a)return;this._is_h&&s?(o.x=t,o.y=e,(n=this.line[this.line.length-2]).x===t&&n.y===e?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(n=this.line[this.line.length-2],this._is_h=n.x===t,this._is_v=n.y===e)):(this._is_h=n.x===t,this._is_v=n.y===e)):this._is_v&&a?(o.x=t,o.y=e,(n=this.line[this.line.length-2]).x===t&&n.y===e?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(n=this.line[this.line.length-2],this._is_h=n.x===t,this._is_v=n.y===e)):(this._is_h=n.x===t,this._is_v=n.y===e)):(this.line.push(new r.Point(t,e)),this._is_h=s,this._is_v=a)}else this.line.push(new r.Point(t,e))},t}();e.TileClipper=s;var a=function(){function t(){}return t.prototype.setExtent=function(t){this._ratio=4096===t?1:4096/t},t.prototype.reset=function(t){this.type=t,this.lines=[],this.line=null},t.prototype.moveTo=function(t,e){this.line&&this.lines.push(this.line),this.line=[];var i=this._ratio;this.line.push(new r.Point(Math.round(t*i),Math.round(e*i)))},t.prototype.lineTo=function(t,e){var i=this._ratio;this.line.push(new r.Point(Math.round(t*i),Math.round(e*i)))},t.prototype.close=function(){var t=this.line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])},t.prototype.result=function(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:(3===this.type&&1!==this._ratio&&h.simplify(4096,64,this.lines),this.lines)},t}();e.SimpleBuilder=a;var h=function(){function t(){}return t.simplify=function(e,i,r){if(r){for(var o=-i,n=e+i,s=-i,a=e+i,h=[],c=[],u=r.length,l=0;l<u;++l){var d=r[l];if(d&&!(d.length<2))for(var p=d[0],v=void 0,f=d.length,y=1;y<f;++y)v=d[y],p.x===v.x&&(p.x<=o&&(p.y>v.y?(h.push(l),h.push(y),h.push(0),h.push(-1)):(c.push(l),c.push(y),c.push(0),c.push(-1))),p.x>=n&&(p.y<v.y?(h.push(l),h.push(y),h.push(1),h.push(-1)):(c.push(l),c.push(y),c.push(1),c.push(-1)))),p.y===v.y&&(p.y<=s&&(p.x<v.x?(h.push(l),h.push(y),h.push(2),h.push(-1)):(c.push(l),c.push(y),c.push(2),c.push(-1))),p.y>=a&&(p.x>v.x?(h.push(l),h.push(y),h.push(3),h.push(-1)):(c.push(l),c.push(y),c.push(3),c.push(-1)))),p=v}if(0!==h.length&&0!==c.length){t.fillParent(r,c,h),t.fillParent(r,h,c);var g=[];t.calcDeltas(g,c,h),t.calcDeltas(g,h,c),t.addDeltas(g,r)}}},t.fillParent=function(t,e,i){for(var r=i.length,n=e.length,s=0;s<n;s+=4){for(var a=e[s],h=e[s+1],c=e[s+2],u=t[a][h-1],l=t[a][h],d=8092,p=-1,v=0;v<r;v+=4)if(i[v+2]===c){var f=i[v],y=i[v+1],g=t[f][y-1],_=t[f][y];switch(c){case 0:case 1:o.between(u.y,g.y,_.y)&&o.between(l.y,g.y,_.y)&&(m=Math.abs(_.y-g.y))<d&&(d=m,p=v);break;case 2:case 3:var m;o.between(u.x,g.x,_.x)&&o.between(l.x,g.x,_.x)&&(m=Math.abs(_.x-g.x))<d&&(d=m,p=v)}}e[s+3]=p}},t.calcDeltas=function(e,i,r){for(var o=i.length,n=0;n<o;n+=4){var s=t.calcDelta(n,i,r,[]);e.push(i[n]),e.push(i[n+1]),e.push(i[n+2]),e.push(s)}},t.calcDelta=function(e,i,r,o){var n=i[e+3];if(-1===n)return 0;var s=o.length;return 1<s&&o[s-2]===n?0:(o.push(n),t.calcDelta(n,r,i,o)+1)},t.addDeltas=function(t,e){for(var i=t.length,r=0,o=0;o<i;o+=4)r<(a=t[o+3])&&(r=a);for(o=0;o<i;o+=4){var n=e[t[o]],s=t[o+1],a=r-t[o+3];switch(t[o+2]){case 0:n[s-1].x-=a,n[s].x-=a,1===s&&(n[n.length-1].x-=a),s===n.length-1&&(n[0].x-=a);break;case 1:n[s-1].x+=a,n[s].x+=a,1===s&&(n[n.length-1].x+=a),s===n.length-1&&(n[0].x+=a);break;case 2:n[s-1].y-=a,n[s].y-=a,1===s&&(n[n.length-1].y-=a),s===n.length-1&&(n[0].y-=a);break;case 3:n[s-1].y+=a,n[s].y+=a,1===s&&(n[n.length-1].y+=a),s===n.length-1&&(n[0].y+=a)}}},t}(),c=function(){function t(){this.linesIn=[],this.linesOut=[]}return t.prototype.cut=function(t,e){var i;if(this.xCut=e,t.rings)this.closed=!0,i=t.rings,this.minPts=4;else{if(!t.paths)return null;this.closed=!1,i=t.paths,this.minPts=2}for(var r=0,o=i;r<o.length;r++)if((v=o[r])&&!(v.length<this.minPts)){for(var n=!0,s=0,a=v;s<a.length;s++){var h=a[s];n?(this.moveTo(h),n=!1):this.lineTo(h)}this.closed&&this.close()}this._pushLineIn(),this._pushLineOut(),i=[];for(var c=0,u=this.linesIn;c<u.length;c++)(v=u[c])&&v.length>=this.minPts&&i.push(v);for(var l=-2*this.xCut,d=0,p=this.linesOut;d<p.length;d++){var v;if((v=p[d])&&v.length>=this.minPts){for(var f=0,y=v;f<y.length;f++)(h=y[f])[0]+=l;i.push(v)}}return this.closed?t.rings=i:t.paths=i,t},t.prototype.moveTo=function(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t},t.prototype.lineTo=function(t){var e=this._side(t[0]);if(e*this._prevSide==-1){var i=this._intersect(this._prevPt,t);this._lineTo(this.xCut,i,0),this._prevSide=0,this._lineTo(t[0],t[1],e)}else this._lineTo(t[0],t[1],e);this._prevSide=e,this._prevPt=t},t.prototype.close=function(){var t=this._firstPt,e=this._prevPt;t[0]===e[0]&&t[1]===e[1]||this.lineTo(t),this._checkClosingPt(this.lineIn),this._checkClosingPt(this.lineOut)},t.prototype._moveTo=function(t,e,i){this.closed?(this.lineIn.push([i<=0?t:this.xCut,e]),this.lineOut.push([0<=i?t:this.xCut,e])):(i<=0&&this.lineIn.push([t,e]),0<=i&&this.lineOut.push([t,e]))},t.prototype._lineTo=function(t,e,i){this.closed?(this._addPolyVertex(this.lineIn,i<=0?t:this.xCut,e),this._addPolyVertex(this.lineOut,0<=i?t:this.xCut,e)):i<0?(0===this._prevSide&&this._pushLineOut(),this.lineIn.push([t,e])):0<i?(0===this._prevSide&&this._pushLineIn(),this.lineOut.push([t,e])):this._prevSide<0?(this.lineIn.push([t,e]),this.lineOut.push([t,e])):0<this._prevSide&&(this.lineOut.push([t,e]),this.lineIn.push([t,e]))},t.prototype._addPolyVertex=function(t,e,i){var r=t.length;1<r&&t[r-1][0]===e&&t[r-2][0]===e?t[r-1][1]=i:t.push([e,i])},t.prototype._checkClosingPt=function(t){var e=t.length;3<e&&t[0][0]===this.xCut&&t[e-2][0]===this.xCut&&t[1][0]===this.xCut&&(t[0][1]=t[e-2][1],t.pop())},t.prototype._side=function(t){return t<this.xCut?-1:t>this.xCut?1:0},t.prototype._intersect=function(t,e){var i=(this.xCut-t[0])/(e[0]-t[0]);return t[1]+i*(e[1]-t[1])},t.prototype._pushLineIn=function(){this.lineIn&&this.lineIn.length>=this.minPts&&this.linesIn.push(this.lineIn),this.lineIn=[]},t.prototype._pushLineOut=function(){this.lineOut&&this.lineOut.length>=this.minPts&&this.linesOut.push(this.lineOut),this.lineOut=[]},t}();e.CutVertical=c}.apply(null,r))||(t.exports=o)},1566:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(11),i(1503),i(210),i(1612),i(9),i(14),i(0),i(65),i(37),i(69),i(96),i(1518),i(1567),i(1616),i(1618),i(1619),i(1620),i(1602),i(1549),i(1570),i(1571),i(1519),i(1550)],void 0===(o=function(t,e,i,r,o,n,s,a,h,c,u,l,d,p,v,f,y,g,_,m,x,C,T,b,w,I,A){function P(t,e,i){if(i.has(t))return i.get(t);var r={tile:e,addedOrModified:[],removed:[]};return i.set(t,r),r}Object.defineProperty(e,"__esModule",{value:!0});var S=new Set,R=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=t.apply(this,e)||this;return r._hiddenGraphics=[],r._tiles=new Map,r._graphicStoreUpdate=!1,r._highlightIDs=new Set,r._graphicsSet=new Set,r._matcher=null,r._tileUpdateSet=new Set,r._tilesToUpdate=new Map,r._pendingUpdates=0,r._attached=!1,r.lastUpdateId=-1,r.updateRequested=!1,r.graphicUpdateHandler=r.graphicUpdateHandler.bind(r),r._addOrUpdateGraphic=r._addOrUpdateGraphic.bind(r),r._processAnalyzedGraphics=r._processAnalyzedGraphics.bind(r),r._graphicsChangeHandler=r._graphicsChangeHandler.bind(r),r}return i(e,t),e.prototype.initialize=function(){var t=this;this._tileStore=new T.default(this.view.featuresTilingScheme),this.container=new y.default({tileInfoView:this.view.featuresTilingScheme,highlightIDs:this._highlightIDs}),this._graphicStore=new w.default(this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.renderer,this.graphics),this._graphicProcessingQueue=new b.default({process:this._addOrUpdateGraphic});var e=new C.default(this.container.getMaterialItems);this.renderer&&(this._matcher=m.createMatcher(this.renderer,e,null)),this._meshFactory=new x.default(null,this.uid,null,null,window.devicePixelRatio,this.view.spatialReference,e,null,this._tileStore.tileScheme.tileInfo),this.watch("renderer",function(i){t._graphicStore.renderer=i,i&&(t._matcher=m.createMatcher(t.renderer,e,null))}),this._tileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",function(){t.graphics.items.length>0&&t._graphicsChangeHandler({target:t.graphics,added:t.graphics.items,removed:[],moved:[]}),t.handles.add(t.graphics.on("change",t._graphicsChangeHandler),"graphics"),t._attached=!0,t.notifyChange("updating")})},e.prototype.destroy=function(){this._set("graphics",null),this._graphicStore.clear(),this._tileStore.destroy()},Object.defineProperty(e.prototype,"updating",{get:function(){return!this._attached||0!==this._pendingUpdates||this._graphicProcessingQueue.updating||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0},enumerable:!0,configurable:!0}),e.prototype.install=function(t){t.addChild(this.container)},e.prototype.uninstall=function(t){t.removeChild(this.container)},e.prototype.addHighlight=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e];this._highlightIDs.add(r)}this._buildHLList()},e.prototype.highlight=function(t){var e=this;return e.addHighlight(t),{remove:function(){e.removeHighlight(t)}}},e.prototype.hitTest=function(t,e){if(!this.view||!this.view.position)return h.resolve();var i=this.view.toMap(c.createScreenPoint(t,e));return this.searchFeatures(i).then(function(t){return t&&t.length?t[0]:null})},e.prototype.searchFeatures=function(t,e){var i=this;return void 0===e&&(e=2),h.create(function(r){r(i._graphicStore.hitTest(t.x,t.y,e,i.view.state.resolution,i.view.state.rotation))})},e.prototype.removeHighlight=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e];this._highlightIDs.delete(r)}this._buildHLList()},e.prototype.setHighlight=function(t){this._highlightIDs.clear(),this.addHighlight(t)},e.prototype.update=function(t){var e=t.state,i=this.view.featuresTilingScheme.getClosestInfoForScale(e.scale).level;this._graphicStore.updateLevel(i),this._tileStore.setViewState(e),this._graphicStoreUpdate=!0,this.updateRequested=!1},e.prototype.viewChange=function(){this.requestUpdate()},e.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate(this))},e.prototype.processUpdate=function(t){this.updateRequested&&(this.updateRequested=!1,this.update(t))},e.prototype.graphicUpdateHandler=function(t){var e=t.graphic,i=t.property,r=t.newValue;switch(i){case"attributes":break;case"geometry":case"symbol":this._graphicProcessingQueue.push(e,"update");break;case"visible":this._setVisible(e.uid,r)}},e.prototype._getIntersectingTiles=function(t){var e=this._graphicStore.getBounds(t);return e&&0!==d.width(e)&&0!==d.height(e)?this._tileStore.boundsIntersections(e):[]},e.prototype._updateTile=function(t){var e=this,i=t.tile,r=this._getGraphicsData(i,t.addedOrModified);return this._processGraphics(i.key,r).then(function(r){return e._patchTile(i.key,{addOrUpdate:r,remove:t.removed}),r})},e.prototype._graphicsChangeHandler=function(t){var e=this;if(this._pendingUpdates++,this.notifyChange("updating"),!this._graphicStoreUpdate){var i=this.view.state,r=this.view.featuresTilingScheme.getClosestInfoForScale(i.scale).level;this._graphicStore.updateLevel(r),this._tileStore.setViewState(i)}for(var o=t.added,n=t.removed,s=t.moved,a=this._tilesToUpdate,c=[],u=new Array(o.length),l=0;l<o.length;l++){var d=o[l];u[l]=d,this._graphicsSet.add(d),c.push(this._addOrUpdateGraphic(d,"add"))}for(var p=0,v=n;p<v.length;p++){for(var f=v[p],y=0,g=this._getIntersectingTiles(f);y<g.length;y++){var _=g[y];P(_.key.id,_,a).removed.push(f.uid)}this._graphicsSet.delete(f),this._graphicStore.remove(f)}for(var m=0,x=s;m<x.length;m++)for(var C=x[m],T=0,b=this._getIntersectingTiles(C);T<b.length;T++){_=b[T];P(_.key.id,_,a).addedOrModified.push(C)}h.all(c).then(function(){for(var t,i=0;i<u.length;i++){t=u[i];for(var r=0,o=e._getIntersectingTiles(t);r<o.length;r++){var n=o[r];P(n.key.id,n,a).addedOrModified.push(t)}}e._graphicStore.updateZ();var s=[];return a.forEach(function(t){return s.push(e._updateTile(t))}),h.all(s).then(function(){a.clear(),e._pendingUpdates--,e.notifyChange("updating")})}).catch(function(){e._pendingUpdates--})},e.prototype._buildHLList=function(){for(var t=0,e=this.container.children;t<e.length;t++)e[t].buildHLList(this._highlightIDs);this.container.requestRender()},e.prototype._getSymbolResources=function(t){var e=t.symbol;if(!e&&this.renderer&&(e=this.renderer.getSymbol(t,{scale:this.view.scale})),!e||e&&"text"!==e.type)return h.resolve(null);S.clear();for(var i=e,r=i.text,o=0;o<r.length;o++)S.add(r.charCodeAt(o));var n=[];S.forEach(function(t){return n.push(t)});var s=[];return s.push({symbol:i.toJSON(),id:0,glyphIds:n}),this.container.getMaterialItems(s).then(function(t){return t.length>0?t[0].mosaicItem:null})},e.prototype._projectAndNormalizeGeometry=function(t){var e=this;if(!t.geometry)return h.resolve(null);var i=t.geometry;if(p.isPolygon(i)){var r=i.rings;i.rings=r}else if(p.isPolyline(i)){var o=i.paths;i.paths=o}else p.isExtent(i)&&(i=l.fromExtent(i));return f.checkProjectionSupport(i.spatialReference,this.view.spatialReference).then(function(){var t=I.normalizeCentralMeridian(i),r=f.project(t,i.spatialReference,e.view.spatialReference);return I.ensureClosedRings(r),r})},e.prototype._onTileUpdate=function(t){var e=this,i=v.getInfo(this.view.spatialReference);if(t.added&&t.added.length>0)for(var r=this,o=0,n=t.added;o<n.length;o++){!function(t){var o=r._graphicStore.queryTileData(t);if(i)for(var n=Math.round((i.valid[1]-i.valid[0])/t.resolution),s=0,a=o;s<a.length;s++){var h=a[s];h.geometry&&p.isPoint(h.geometry)&&r._wrapPoints(h,n)}r._tileUpdateSet.add(t.key),r.notifyChange("updating"),r._processGraphics(t.key,o).then(function(i){e._addTile(t.key,i),e._tileUpdateSet.delete(t.key),e.notifyChange("updating")}).catch(function(){e._tileUpdateSet.delete(t.key),e.notifyChange("updating")})}(n[o])}if(t.removed&&t.removed.length>0)for(var s=0,a=t.removed;s<a.length;s++){var h=a[s];this._removeTile(h.key)}},e.prototype._addOrUpdateGraphic=function(t,e){var i=this,r=this._projectAndNormalizeGeometry(t),o=this._getSymbolResources(t);return h.all([r,o]).then(function(r){var o=r[0],n=r[1];return"add"===e?i._addProjectedGraphic(t,n,o):i._updateGraphic(t,n,o)})},e.prototype._addProjectedGraphic=function(t,e,i){if(!this._graphicsSet.has(t))return null;t.visible||this._hiddenGraphics.push(t.uid);var r=this._graphicStore.add(t,e,i);return!r||0===d.width(r)&&0===d.height(r)?null:r},e.prototype._updateGraphic=function(t,e,i){var r=this;if(!this._graphicStore.has(t))return h.resolve();for(var o=this._graphicStore.update(t,e,i),n=o.oldBounds,s=o.newBounds,c=0===d.width(n)&&0===d.height(n),u=0===d.width(s)&&0===d.height(s),l=c?[]:this._tileStore.boundsIntersections(n),p=u?[]:this._tileStore.boundsIntersections(s),v=a.acquire(),f=0,y=l;f<y.length;f++){var g=y[f];v.set(g.key,{addOrUpdate:null,remove:[t.uid]})}for(var _=0,m=p;_<m.length;_++){g=m[_];var x=this._getGraphicData(g,t);if(v.has(g.key)){var C=v.get(g.key);C.remove.length=0,C.addOrUpdate=x}else v.set(g.key,{addOrUpdate:x,remove:null})}var T=[];return v.forEach(function(t,e){var i=r._processGraphics(e,t.addOrUpdate).then(function(i){r._patchTile(e,{addOrUpdate:i,remove:t.remove})});T.push(i)}),a.release(v),h.all(T).then(function(){return s})},e.prototype._addTile=function(t,e){var i=d.create();this.view.featuresTilingScheme.getTileBounds(i,t);var r=new _(t,i,!0),o={clear:!0,addOrUpdate:e,remove:[]};r.setData(o,!1,!1),r.buildHLList(this._highlightIDs),this._hiddenGraphics.length>0&&r.setFilterFlag(0,[],this._hiddenGraphics),this._tiles.set(t,r),this.container.addChild(r)},e.prototype._removeTile=function(t){if(this._tiles.has(t)){var e=this._tiles.get(t);this.container.removeChild(e)}},e.prototype._patchTile=function(t,e){if(this._tiles.has(t)){var i=this._tiles.get(t);i.setData(e,!1,!1),i.buildHLList(this._highlightIDs),this._hiddenGraphics.length>0&&i.setFilterFlag(0,[],this._hiddenGraphics),this.container.requestRender()}},e.prototype._setVisible=function(t,e){var i=[],r=[],o=this._hiddenGraphics.indexOf(t);if(e){if(-1===o)return;this._hiddenGraphics.splice(o,1),i.push(t)}else{if(-1!==o)return;this._hiddenGraphics.push(t),r.push(t)}for(var n=0,s=this.container.children;n<s.length;n++){var a=s[n];a.data&&a.setFilterFlag(0,i,r)}},e.prototype._getGraphicsData=function(t,e){var i=v.getInfo(this.view.spatialReference),r=this._graphicStore.getGraphicsData(t,e);if(i)for(var o=Math.round((i.valid[1]-i.valid[0])/t.resolution),n=0,s=r;n<s.length;n++){var a=s[n];a.geometry&&p.isPoint(a.geometry)&&this._wrapPoints(a,o)}return r.sort(function(t,e){return t.insertAfter-e.insertAfter}),r},e.prototype._getGraphicData=function(t,e){var i=this._graphicStore.getGraphicData(t,e),r=[i],o=v.getInfo(this.view.spatialReference);if(o){var n=Math.round((o.valid[1]-o.valid[0])/t.resolution);i.geometry&&p.isPoint(i.geometry)&&this._wrapPoints(i,n)}return r},e.prototype._wrapPoints=function(t,e){var i=t.geometry;512===e?i.x<20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>492&&(t.geometry={points:[[i.x,i.y],[-e,0]]}):i.x<-20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>532&&(t.geometry={points:[[i.x,i.y],[-e,0]]})},e.prototype._processGraphics=function(t,e){var i=this;return e&&e.length&&this._meshFactory?this._meshFactory.analyze(e,this._matcher).then(function(e){return i._processAnalyzedGraphics(t,e)}):h.resolve(null)},e.prototype._processAnalyzedGraphics=function(t,e){for(var i=this._meshFactory,r=i.createMeshData(e.length),o=0,n=e;o<n.length;o++){var s=n[o];i.write(r,s,null,null,t.level)}return g.fromMeshData(r)},r([u.property()],e.prototype,"_graphicProcessingQueue",void 0),r([u.property({constructOnly:!0})],e.prototype,"graphics",void 0),r([u.property({dependsOn:["_graphicProcessingQueue.updating"]})],e.prototype,"updating",null),r([u.property()],e.prototype,"view",void 0),r([u.property()],e.prototype,"updateRequested",void 0),r([u.subclass("esri.views.2d.layers.support.GraphicsView2D")],e)}(u.declared(A,n,s.Identifiable));e.default=R}.apply(null,r))||(t.exports=o)},1567:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(11),i(5),i(9),i(1510),i(1505),i(1614)],void 0===(o=function(t,e,i,r,o,n,s,a){Object.defineProperty(e,"__esModule",{value:!0});var h=function(t){function e(e){var i=t.call(this)||this;return i._displayHeight=0,i._displayWidth=0,i._rendererInfo=new a,i.tileInfoView=e.tileInfoView,i.highlightIDs=e.highlightIDs,i.getMaterialItems=i.getMaterialItems.bind(i),i}return r(e,t),e.prototype.dispose=function(){this.removeAllChildren();for(var t=0,e=this.children;t<e.length;t++)e[t].dispose()},e.prototype.disposeWebGLResources=function(){for(var t=0,e=this.children;t<e.length;t++)e[t].clear()},e.prototype.displayWidth=function(){return this._displayWidth},Object.defineProperty(e.prototype,"displayHeight",{get:function(){return this._displayHeight},enumerable:!0,configurable:!0}),e.prototype.setVisibility=function(t,e){},e.prototype.getMaterialItems=function(t){var e=t;if(e&&0!==e.length){for(var i=[],r=this.stage.painter.textureManager,n=0,s=e;n<s.length;n++){var a=s[n];i.push(r.rasterizeItem(a.symbol,a.glyphIds))}return o.all(i).then(function(t){return t.map(function(t,i){return{id:e[i].id,mosaicItem:t}})})}},e.prototype.renderChildren=function(t){var e=this.stage.painter;if(this._updateTilesTransform(t.state,this.tileInfoView.getClosestInfoForScale(t.state.scale).level),t.drawPhase===s.WGLDrawPhase.MAP){var r=this.tileInfoView.getClosestInfoForScale(t.state.scale).level,o=this.tileInfoView.tileInfo.scaleToZoom(t.state.scale),n=this._rendererInfo,a=i({},t,{rendererInfo:n,requiredLevel:r,displayLevel:o,context:this.stage.context,painter:e});this.sortChildren(function(t,e){return t.key.level-e.key.level!=0?t.key.level-e.key.level:t.key.row-e.key.row!=0?t.key.row-e.key.row:t.key.col-e.key.col});var h=a.drawPhase;e.draw(a,this.children,h,null),0<this.highlightIDs.size&&e.highlight(a,this.children)}},e.prototype._updateTilesTransform=function(t,e){for(var i=0,r=this.children;i<r.length;i++){var o=r[i],n=this.tileInfoView.tileInfo.lods[o.key.level].resolution/(t.resolution*t.pixelRatio);o.setTransform(t,n)}},e}(n.Container);e.default=h}.apply(null,r))||(t.exports=o)},1570:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(6),i(57),i(0)],void 0===(o=function(t,e,i,r,o,n,s){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var i=t.call(this,e)||this;return i._queue=new Map,i._queueArray=[],i._onGoingGraphic=null,i._onGoingPromise=null,i._scheduledNextHandle=null,i._timestamp=Date.now(),i._next=i._next.bind(i),i._finalize=i._finalize.bind(i),i}return i(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this._queueArray.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updating",{get:function(){return this._queueArray.length>0||null!==this._onGoingPromise},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t){if(this._onGoingGraphic&&this._onGoingGraphic.graphic===t&&(this._onGoingPromise.cancel(),this._onGoingGraphic=this._onGoingPromise=null),this._queue.has(t)){var e=this._queue.get(t);this._queue.delete(t);var i=this._queueArray.indexOf(e);this._queueArray.slice(i,1)}this._scheduleNext(),this.notifyChange("updating")},e.prototype.clear=function(){this._queue.clear(),this._queueArray.length=0,this._onGoingPromise&&(this._onGoingPromise.cancel(),this._onGoingGraphic=this._onGoingPromise=null),this._cancelNext(),this.notifyChange("updating")},e.prototype.has=function(t){return this._queue.has(t)},e.prototype.isOngoing=function(t){return this._onGoingGraphic&&this._onGoingGraphic.graphic===t},e.prototype.push=function(t,e,i){if(!this._queue.has(t)){var r={graphic:t,addOrUpdate:e,timestamp:i||this._timestamp};this._queueArray.push(r),this._queue.set(t,r),this._scheduleNext(),this.notifyChange("updating")}},e.prototype.refresh=function(){this._timestamp=Date.now(),this.reset()},e.prototype.reset=function(){var t=this._onGoingGraphic;if(t){var e=t.graphic,i=t.addOrUpdate;this.push(e,i,this._timestamp)}},e.prototype._finalize=function(){this._onGoingGraphic=null,this._onGoingPromise=null,this.notifyChange("updating"),this._scheduleNext()},e.prototype._cancelNext=function(){this._scheduledNextHandle&&(this._scheduledNextHandle.remove(),this._scheduledNextHandle=null)},e.prototype._scheduleNext=function(){this._scheduledNextHandle||0===this._queue.size||null!=this._onGoingGraphic||(this._scheduledNextHandle=n.schedule(this._next))},e.prototype._next=function(){if(null==this._scheduledNextHandle||0===this._queue.size||this._onGoingGraphic)this._scheduledNextHandle=null;else{this._scheduledNextHandle=null;var t=this._peek(),e=t.graphic,i=t.addOrUpdate;this._queue.delete(e),this._onGoingGraphic=t,this._onGoingPromise=this.process(e,i,this._timestamp),this._onGoingPromise.then(this._finalize,this._finalize),this.notifyChange("updating")}},e.prototype._peek=function(){return 0===this._queueArray.length?null:this._queueArray.pop()},r([s.property({readOnly:!0})],e.prototype,"length",null),r([s.property({readOnly:!0})],e.prototype,"updating",null),r([s.property({constructOnly:!0})],e.prototype,"process",void 0),r([s.subclass()],e)}(s.declared(o));e.default=a}.apply(null,r))||(t.exports=o)},1571:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(11),i(546),i(19),i(14),i(1533),i(37),i(158),i(69),i(1509),i(1572),i(1573),i(1519)],void 0===(o=function(t,e,i,r,o,n,s,a,h,c,u,l,d,p){function v(t,e,i,r,o){return f.minX=e,f.minY=i,f.maxX=r,f.maxY=o,t.search(f)}Object.defineProperty(e,"__esModule",{value:!0});var f={minX:0,minY:0,maxX:0,maxY:0},y=a.create(),g=[],_=function(){function t(t,e,i,n,a){this.renderer=n,this._graphics=a,this._index=s(9,o("csp-restrictions")?function(t){return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this._itemByGraphic=new r.default,this._currentLevel=-1/0,this._tileInfoView=t,this._uidFieldName=i;var h=t.getClosestInfoForScale(e);h&&(this._currentLevel=h.level,this._resolution=this._tileInfoView.getTileResolution(h.level))}return t.prototype.hitTest=function(t,e,i,r,o){t=u.normalizeMapX(t,this._tileInfoView.spatialReference);var s=.5*r*i;y[0]=t-s,y[1]=e-s,y[2]=t+s,y[3]=e+s;var l=.5*r*(i+50),d=v(this._index,t-l,e-l,t+l,e+l);if(!d||0===d.length)return[];for(var f,g={x:t,y:e},_=[],m=0,x=d;m<x.length;m++){var C=x[m];if(C.graphic.visible)switch(c.getJsonType(C.geometry)){case"esriGeometryPoint":var T=this._getSymbol(C.graphic);if(!T)continue;var b=C.geometry,w=void 0;if("text"===T.type){var I=T;w=p.getTextSymbolBounds(b.x,b.y,I,C.size,this._resolution,o)}else w=p.getMarkerSymbolBounds(b.x,b.y,T,this._resolution,o);h.polygonContainsPoint(w,g)&&_.push(C);break;case"esriGeometryPolyline":var A=this._getSymbol(C.graphic);if(!A)continue;f=1.5*r*window.devicePixelRatio*n.pt2px(A.width),p.isPointOnPolyline(C.geometry,t,e,f)&&_.push(C);break;case"esriGeometryEnvelope":var P=C.geometry,S=a.fromValues(P.xmin,P.ymin,P.xmax,P.ymax);a.intersects(S,y)&&_.push(C);break;case"esriGeometryPolygon":h.polygonContainsPoint(C.geometry,g)&&_.push(C);break;case"esriGeometryMultipoint":var R=this._getSymbol(C.graphic);if(!R)continue;for(var L=C.geometry.points,E=void 0,M=0;M<L.length;M++){if("text"===R.type){I=R;E=p.getTextSymbolBounds(L[M][0],L[M][1],I,C.size,this._resolution,o)}else E=p.getMarkerSymbolBounds(L[M][0],L[M][1],R,this._resolution,o);if(h.polygonContainsPoint(E,g)){_.push(C);break}}}}return _.sort(function(t,e){var i=p.graphicGeometryToNumber(t.graphic),r=p.graphicGeometryToNumber(e.graphic);return i===r?e.zorder-t.zorder:i-r}),_.map(function(t){return t.graphic})},t.prototype.getGraphicsData=function(t,e){var r=v(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);if(0===r.length||0===e.length)return[];r.sort(function(t,e){return t.zorder-e.zorder}),r[0].insertAfter=-1;for(var o=1;o<r.length;o++)r[o].insertAfter=r[o-1].graphic.uid;r.sort(function(t,e){return t.graphic.uid-e.graphic.uid}),e.sort(function(t,e){return t.uid-e.uid});for(var n,s=0,a=0,h=[],c={originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]},u=0,l=e;u<l.length;u++){var p=l[u];for(a=-2;s<r.length;)if(n=r[s],s++,p.uid===n.graphic.uid){a=n.insertAfter;break}if(n.geometry&&-2!==a){var f=n.getGeometryQuantized(c),y=i({},n.graphic.attributes);y[this._uidFieldName]=p.uid,h.push({centroid:d.default.getCentroidQuantized(n,c,this.renderer,this._scale),geometry:f,attributes:y,symbol:p.symbol,insertAfter:a})}}return h},t.prototype.getGraphicData=function(t,e){var r=this._itemByGraphic.get(e);if(!r)return null;var o=v(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);o.sort(function(t,e){return t.zorder-e.zorder});var n=o.indexOf(r),s=0===n||-1===n?-1:o[n-1].graphic.uid,a={originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]},h=r.getGeometryQuantized(a),c=i({},r.graphic.attributes);return c[this._uidFieldName]=e.uid,{centroid:d.default.getCentroidQuantized(r,a,this.renderer,this._scale),geometry:h,attributes:c,symbol:e.symbol,insertAfter:s}},t.prototype.queryTileData=function(t){var e=50*t.resolution,i=a.pad(t.bounds,e,a.create()),r=v(this._index,i[0],i[1],i[2],i[3]),o=[];return this._createTileGraphics(o,r,{originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]}),o},t.prototype.has=function(t){return this._itemByGraphic.has(t)},t.prototype.getBounds=function(t){return this._itemByGraphic.has(t)?this._itemByGraphic.get(t).bounds:null},t.prototype.add=function(t,e,i){if(t){var r=d.default.acquire(t,i,e,this.renderer,this._resolution,this._scale,this._tileInfoView.spatialReference);return this._itemByGraphic.set(t,r),i&&this._index.insert(r),r.bounds}},t.prototype.remove=function(t){if(this._itemByGraphic.has(t)){var e=this._itemByGraphic.get(t);this._index.remove(e),this._itemByGraphic.delete(t)}},t.prototype.updateZ=function(){for(var t,e,i=this._graphics.items,r=0;r<i.length;r++)e=i[r],(t=this._itemByGraphic.get(e))&&(t.zorder=r)},t.prototype.update=function(t,e,i){var r=this._itemByGraphic.get(t),o=a.clone(r.bounds);return r.size[0]=r.size[1]=0,this._index.remove(r),r.set(t,i,e,this.renderer,this._resolution,this._scale,this._tileInfoView.spatialReference),i&&this._index.insert(r),{oldBounds:o,newBounds:r.bounds}},t.prototype.updateLevel=function(t){var e=this;if(this._currentLevel!==t){this._currentLevel=t;var i=this._tileInfoView.getTileResolution(t);this._resolution=i,this._scale=this._tileInfoView.getTileScale({level:t,row:0,col:0,world:0}),this._index.clear();var r=this._itemByGraphic.values();g.length=0,l.forEachIter(r,function(t){t.updateBounds(e.renderer,e._resolution,e._scale,e._tileInfoView.spatialReference),t.geometry&&g.push(t)}),this._index.load(g)}},t.prototype.clear=function(){this._itemByGraphic.clear(),this._index.clear()},t.prototype._createTileGraphics=function(t,e,r){var o=this._uidFieldName;e.sort(function(t,e){return t.zorder-e.zorder});for(var n,s,a,h,c=0;c<e.length;c++){n=(a=e[c]).graphic,s=a.getGeometryQuantized(r),h=0===c?-1:e[c-1].graphic.uid;var u=i({},a.graphic.attributes);u[o]=n.uid,t.push({centroid:d.default.getCentroidQuantized(a,r,this.renderer,this._scale),geometry:s,attributes:u,symbol:n.symbol,insertAfter:h})}},t.prototype._getSymbol=function(t){return t.symbol?t.symbol:this.renderer?this.renderer.getSymbol(t,{scale:this._scale}):null},t}();e.default=_}.apply(null,r))||(t.exports=o)},1572:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.forEachIter=function(t,e){for(;;){var i=t.next(),r=i.value;if(i.done)return;e(r)}}}.apply(null,r))||(t.exports=o)},1573:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(37),i(372),i(69),i(558),i(1519)],void 0===(o=function(t,e,i,r,o,n,s){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){this.bounds=i.create(),this.graphic=null,this.size=[0,0,0,0]}return t.acquire=function(e,i,r,o,n,s,a){var h;return void 0===e&&(e=null),0===t._pool.length?h=new t:(h=t._pool.pop(),this._set.delete(h)),h.acquire(e,i,r,o,n,s,a),h},t.release=function(t){t&&!this._set.has(t)&&(t.release(),this._pool.push(t),this._set.add(t))},t.getCentroidQuantized=function(t,e,i,a){if(o.isPolygon(t.geometry)){var h=t.graphic.symbol;if(!h&&i&&(h=i.getSymbol(t.graphic,{scale:a})),!h)return null;if(s.isMarkerSymbol(h.type)){var c=r.polygonCentroid(t.geometry);return n.quantizePoint(e,{},{x:c[0],y:c[1]},!1,!1)}}return null},t.prototype.acquire=function(t,e,i,r,o,n,s){void 0===t&&(t=null),t&&this.set(t,e,i,r,o,n,s)},t.prototype.release=function(){this.graphic=null,this.geometry=null},t.prototype.set=function(t,e,i,r,o,n,a){this.graphic=t,this.geometry=e,s.getBounds(this.bounds,this.size,t,e,i,r,o,n,a)},t.prototype.updateBounds=function(t,e,i,r){s.getBounds(this.bounds,this.size,this.graphic,this.geometry,null,t,e,i,r)},t.prototype.getGeometryQuantized=function(t){if(o.isPolygon(this.geometry)){var e=this.geometry.rings;if(1===e.length&&2===e[0].length)return n.quantizeGeometry(t,{paths:[[e[0][0],e[0][1]]]})}return n.quantizeGeometry(t,this.geometry)},t._pool=[],t._set=new Set,t}();e.default=a}.apply(null,r))||(t.exports=o)},1599:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(1528)],void 0===(o=function(t,e,i){return function(){function t(t,e,i,r,o,n,s,a){this._glyphItems=t,this._maxWidth=e,this._lineHeight=i,this._letterSpacing=r,this._offset=o,this._hAnchor=n,this._vAnchor=s,this._justify=a}return t.prototype.getShaping=function(t,e){for(var i=this._letterSpacing,r=this._lineHeight,o=this._justify,n=this._maxWidth,s=[],a=0,h=0,c=0,u=0,l=-1,d=0,p=-1,v=t.length,f=0;f<v;f++){var y=t.charCodeAt(f);if(10!==y){for(var g=void 0,_=0,m=this._glyphItems;_<m.length&&!(g=m[_][y]);_++);if(g){if(s.push({codePoint:y,x:a,y:h,glyphMosaicItem:g}),a+=g.metrics.advance+i,0<n&&n<a&&0<=p){var x=p+1;T=s[x].x,d=Math.max(T,d);for(var C=x;C<s.length;C++)e?s[C].y-=r:s[C].y+=r,s[C].x-=T;o&&this._applyJustification(s,u,p),e?h-=r:h+=r,a-=T,++c,u=x,p=-1}++l,32===y&&(p=s.length-1)}}else{if(f===v-1)continue;if(u<=l){var T=(b=s[l]).x+b.glyphMosaicItem.metrics.advance;d=Math.max(T,d),o&&this._applyJustification(s,u,l),u=s.length}e?h-=r:h+=r,a=0,++c}}if(u<=l){var b,w=(b=s[l]).x+b.glyphMosaicItem.metrics.advance;d=Math.max(d,w),o&&this._applyJustification(s,u,l)}if(0<s.length){var I=(o-this._hAnchor)*d,A=(-this._vAnchor*(c+1)+.5)*r;e&&c&&(A+=c*r),I+=this._offset[0],A+=this._offset[1];for(var P=0,S=s;P<S.length;P++){var R=S[P];R.x+=I,R.y+=A}}return s},t.getBox=function(t){if(!t.length)return null;for(var e=1/0,i=1/0,r=0,o=0,n=0,s=t;n<s.length;n++){var a=s[n],h=a.glyphMosaicItem.metrics,c=h.height,u=h.left,l=h.top,d=h.width,p=a.x,v=a.y-(c-Math.abs(l)),f=p+d+u,y=v+c;e=Math.min(e,p),r=Math.max(r,f),i=Math.min(i,v),o=Math.max(o,y)}return{x:e,y:i,width:r-e,height:o-i}},t.addDecoration=function(t,e){var r=t.length;if(0!==r){for(var o=t[0].x+t[0].glyphMosaicItem.metrics.left,n=t[0].y,s=1;s<r;s++){var a=t[s];if(a.y!==n){var h=t[s-1].x+t[s-1].glyphMosaicItem.metrics.left+t[s-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:o,y:n+e-3,glyphMosaicItem:{sdf:!0,rect:new i(4,0,4,8),metrics:{width:h-o,height:8,left:0,top:0,advance:0},page:0}}),n=a.y,o=a.x+a.glyphMosaicItem.metrics.left}}var c=t[r-1].x+t[r-1].glyphMosaicItem.metrics.left+t[r-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:o,y:n+e-3,glyphMosaicItem:{sdf:!0,rect:new i(4,0,4,8),metrics:{width:c-o,height:8,left:0,top:0,advance:0},page:0}})}},t.prototype._applyJustification=function(t,e,i){for(var r=t[i],o=r.glyphMosaicItem.metrics.advance,n=(r.x+o)*this._justify,s=e;s<=i;s++)t[s].x-=n},t}()}.apply(null,r))||(t.exports=o)},1600:function(t,e,i){var r,o;r=[i(30),i(351),i(1527)],void 0===(o=function(t,e,i){t.getObject("string",!0,dojox);var r=e("dojox.string.BidiEngine",i,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(t,e,i){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(function(t,e,i){w=[],A=[];for(var r=0;r<i;r++)t[r]=r,e[r]=r,w[r]=r}(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(e,i))return t;e=this.inputFormat,i=this.outputFormat;var r=t,s=P,a=x(e.charAt(1)),p=x(i.charAt(1)),v=("I"===e.charAt(0)?"L":e.charAt(0))+a,f=("I"===i.charAt(0)?"L":i.charAt(0))+p,S=e.charAt(2)+i.charAt(2);s.defInFormat=v,s.defOutFormat=f,s.defSwap=S;var R=function t(e,i,r,s,a){var c=function(t,e,i){void 0===e.inFormat&&(e.inFormat=i.defInFormat);void 0===e.outFormat&&(e.outFormat=i.defOutFormat);void 0===e.swap&&(e.swap=i.defSwap);if(e.inFormat===e.outFormat)return e;var r,n=e.inFormat.substring(0,1),s=e.inFormat.substring(1,4),a=e.outFormat.substring(0,1),h=e.outFormat.substring(1,4);"C"===s.charAt(0)&&(r=o(t),s="ltr"===r||"rtl"===r?r.toUpperCase():"L"===e.inFormat.charAt(2)?"LTR":"RTL",e.inFormat=n+s);"C"===h.charAt(0)&&("rtl"===(r=o(t))?h="RTL":"ltr"===r?(r=function(t){var e=t.split("");return e.reverse(),o(e.join(""))}(t),h=r.toUpperCase()):h="L"===e.outFormat.charAt(2)?"LTR":"RTL",e.outFormat=a+h);return e}(e,{inFormat:i,outFormat:r,swap:s},a);if(c.inFormat===c.outFormat)return e;i=c.inFormat;r=c.outFormat;s=c.swap;var u=i.substring(0,1),l=i.substring(1,4),d=r.substring(0,1),p=r.substring(1,4);a.inFormat=i;a.outFormat=r;a.swap=s;if("L"===u&&"VLTR"===r){if("LTR"===l)return a.dir=L,n(e,a);if("RTL"===l)return a.dir=E,n(e,a)}if("V"===u&&"V"===d)return a.dir="RTL"===l?E:L,h(e,a);if("L"===u&&"VRTL"===r)return"LTR"===l?(a.dir=L,e=n(e,a)):(a.dir=E,e=n(e,a)),h(e);if("VLTR"===i&&"LLTR"===r)return a.dir=L,n(e,a);if("V"===u&&"L"===d&&l!==p)return e=h(e),"RTL"===l?t(e,"LLTR","VLTR",s,a):t(e,"LRTL","VRTL",s,a);if("VRTL"===i&&"LRTL"===r)return t(e,"LRTL","VRTL",s,a);if("L"===u&&"L"===d){var v=a.swap;return a.swap=v.substr(0,1)+"N","RTL"===l?(a.dir=E,e=n(e,a),a.swap="N"+v.substr(1,2),a.dir=L,e=n(e,a)):(a.dir=L,e=n(e,a),a.swap="N"+v.substr(1,2),e=t(e,"VLTR","LRTL",a.swap,a)),e}}(t,v,f,S,s),M=!1;return"R"===i.charAt(1)?M=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(M=this.checkContextual(R)),this.sourceToTarget=w,this.targetToSource=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[t[i]]=i;return e}(this.sourceToTarget),I=this.targetToSource,r=e.charAt(3)===i.charAt(3)?R:"S"===i.charAt(3)?function(t,e,i){if(0===e.length)return;void 0===t&&(t=!0);void 0===i&&(i=!0);var r=(e=String(e)).split(""),o=0,n=1,s=r.length;t||(o=r.length-1,n=-1,s=1);for(var a=function(t,e,i,r,o){for(var n=0,s=[],a=0,h=e;h*i<r;h+=i)if(u(t[h])||m(t[h])){if(""===t[h]&&d(t,h+i,i,r)){t[h]=T(t[h+i],0===n?U:B),C(t,h+=i,i,r),o&&(s[a]=h,a++),n=0;continue}var c=t[h];1===n?t[h]=l(t,h+i,i,r)?g(t[h]):_(t[h],F):!0===l(t,h+i,i,r)?t[h]=_(t[h],j):t[h]=_(t[h],q),m(c)||(n=1),!0===y(c)&&(n=0)}else n=0;return s}(r,o,n,s,i),h="",p=0;p<r.length;p++)i&&c(a,a.length,p)>-1?(b(I,p,!t,-1),w.splice(p,1)):h+=r[p];return h}(M,R,!0):function(t,e,i){if(0===t.length)return;void 0===i&&(i=!0);void 0===e&&(e=!0);t=String(t);var r="",o=[];o=t.split("");for(var n=0;n<t.length;n++){var s=!1;if(o[n]>=""&&o[n]<"\ufeff"){var a=t.charCodeAt(n);o[n]>=""&&o[n]<=""?(e?(n>0&&i&&" "===o[n-1]?r=r.substring(0,r.length-1)+"":(r+="",s=!0),r+=N[(a-65269)/2]):(r+=N[(a-65269)/2],r+="",n+1<t.length&&i&&" "===o[n+1]?n++:s=!0),s&&(b(I,n,!0,1),w.splice(n,0,w[n]))):r+=z[a-65136]}else r+=o[n]}return r}(R,M,!0),this.sourceToTarget=w,this.targetToSource=I,this.levels=A,r},_inputFormatSetter:function(t){if(!M.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t},_outputFormatSetter:function(t){if(!M.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t},checkParameters:function(t,e){return t?this.set("inputFormat",t):t=this.inputFormat,e?this.set("outputFormat",e):e=this.outputFormat,t!==e},checkContextual:function(t){var e=o(t);if("ltr"!==e&&"rtl"!==e){try{e=document.dir.toLowerCase()}catch(t){}"ltr"!==e&&"rtl"!==e&&(e="ltr")}return e},hasBidiChar:function(t){return O.test(t)}});function o(t){var e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return e?e[0]<="z"?"ltr":"rtl":""}function n(t,e){var i=t.split(""),r=[];return s(i,r,e),function(t,e,i){if(0===i.hiLevel||i.swap.substr(0,1)===i.swap.substr(1,2))return;for(var r=0;r<t.length;r++)1===e[r]&&(t[r]=f(t[r]))}(i,r,e),p(2,i,r,e),p(1,i,r,e),A=r,i.join("")}function s(t,e,i){var r=t.length,o=i.dir?J:H,n=null,s=null,h=null,c=0,u=null,l=-1,d=null,p=null,f=[],y=[];for(i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1,d=0;d<r;d++)f[d]=a(t[d]);for(p=0;p<r;p++){if(n=c,y[p]=s=v(t,f,y,p,i),u=240&(c=o[n][s]),c&=15,e[p]=h=o[c][S],u>0)if(16===u){for(d=l;d<p;d++)e[d]=1;l=-1}else l=-1;if(o[c][R])-1===l&&(l=p);else if(l>-1){for(d=l;d<p;d++)e[d]=h;l=-1}f[p]===tt&&(e[p]=0),i.hiLevel|=h}i.hasUbatS&&function(t,e,i,r){for(var o=0;o<i;o++)if(t[o]===et){e[o]=r.dir;for(var n=o-1;n>=0&&t[n]===rt;n--)e[n]=r.dir}}(f,e,r,i)}function a(t){var e=t.charCodeAt(0),i=ht[e>>8];return i<at?i:ct[i-at][255&e]}function h(t,e){var i=t.split("");if(e){var r=[];s(i,r,e),A=r}return i.reverse(),w.reverse(),i.join("")}function c(t,e,i){for(var r=0;r<e;r++)if(t[r]===i)return r;return-1}function u(t){for(var e=0;e<Y.length;e++)if(t>=Y[e]&&t<=X[e])return!0;return!1}function l(t,e,i,r){for(;e*i<r&&m(t[e]);)e+=i;return!!(e*i<r&&u(t[e]))}function d(t,e,i,r){for(;e*i<r&&m(t[e]);)e+=i;var o=" ";if(!(e*i<r))return!1;o=t[e];for(var n=0;n<N.length;n++)if(N[n]===o)return!0;return!1}function p(t,e,i,r){if(!(r.hiLevel<t)){if(1===t&&r.dir===E&&!r.hasUbatB)return e.reverse(),void w.reverse();for(var o,n,s,a,h=e.length,c=0;c<h;){if(i[c]>=t){for(o=c+1;o<h&&i[o]>=t;)o++;for(n=c,s=o-1;n<s;n++,s--)a=e[n],e[n]=e[s],e[s]=a,a=w[n],w[n]=w[s],w[s]=a;c=o}c++}}}function v(t,e,i,r,o){var n=e[r];return{UBAT_L:function(){return o.lastArabic=!1,Q},UBAT_R:function(){return o.lastArabic=!1,Z},UBAT_ON:function(){return $},UBAT_AN:function(){return K},UBAT_EN:function(){return o.lastArabic?K:W},UBAT_AL:function(){return o.lastArabic=!0,o.hasUbatAl=!0,Z},UBAT_WS:function(){return $},UBAT_CS:function(){var t,n;return r<1||r+1>=e.length||(t=i[r-1])!==W&&t!==K||(n=e[r+1])!==W&&n!==K?$:(o.lastArabic&&(n=K),n===t?n:$)},UBAT_ES:function(){return(r>0?i[r-1]:tt)===W&&r+1<e.length&&e[r+1]===W?W:$},UBAT_ET:function(){if(r>0&&i[r-1]===W)return W;if(o.lastArabic)return $;for(var t=r+1,n=e.length;t<n&&e[t]===ot;)t++;return t<n&&e[t]===W?W:$},UBAT_NSM:function(){if("VLTR"===o.inFormat){for(var n=e.length,s=r+1;s<n&&e[s]===nt;)s++;if(s<n){var a=t[r],h=a>=1425&&a<=2303||64286===a,c=e[s];if(h&&(c===Z||c===it))return Z}}return r<1||e[r-1]===tt?$:i[r-1]},UBAT_B:function(){return o.lastArabic=!0,o.hasUbatB=!0,o.dir},UBAT_S:function(){return o.hasUbatS=!0,$},UBAT_LRE:function(){return o.lastArabic=!1,$},UBAT_RLE:function(){return o.lastArabic=!1,$},UBAT_LRO:function(){return o.lastArabic=!1,$},UBAT_RLO:function(){return o.lastArabic=!1,$},UBAT_PDF:function(){return o.lastArabic=!1,$},UBAT_BN:function(){return $}}[st[n]]()}function f(t){for(var e,i=0,r=G.length-1;i<=r;)if(e=Math.floor((i+r)/2),t<G[e][0])r=e-1;else{if(!(t>G[e][0]))return G[e][1];i=e+1}return t}function y(t){for(var e=0;e<k.length;e++)if(k[e]===t)return!0;return!1}function g(t){for(var e=0;e<D.length;e++)if(t===D[e])return V[e];return t}function _(t,e){for(var i=0;i<D.length;i++)if(t===D[i])return e[i];return t}function m(t){return t>=""&&t<=""}function x(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":void 0}function C(t,e,i,r){for(;e*i<r&&m(t[e]);)e+=i;return e*i<r&&(t[e]=" ",!0)}function T(t,e){for(var i=0;i<N.length;i++)if(t===N[i])return e[i];return t}function b(t,e,i,r){for(var o=0;o<t.length;o++)(t[o]>e||!i&&t[o]===e)&&(t[o]+=r)}var w=[],I=[],A=[],P={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},S=5,R=6,L=0,E=1,M=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,O=/[\u0591-\u06ff\ufb1d-\ufefc]/,G=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],N=["","","",""],U=["","","",""],B=["","","",""],D=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=["","","","","","","","","","","","",""],z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Y=["",""],X=["",""],H=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],J=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Q=0,Z=1,W=2,K=3,$=4,tt=5,et=6,it=7,rt=8,ot=11,nt=12,st=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],at=100,ht=[at+0,Q,Q,Q,Q,at+1,at+2,at+3,Z,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,at+4,$,$,$,Q,$,Q,$,Q,$,$,$,Q,Q,$,$,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,Q,Q,$,$,Q,Q,$,$,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,Q,Q,Q,at+5,it,it,at+6,at+7],ct=[[18,18,18,18,18,18,18,18,18,et,tt,et,rt,tt,18,18,18,18,18,18,18,18,18,18,18,18,18,18,tt,tt,tt,et,rt,$,$,ot,ot,ot,$,$,$,$,$,10,9,10,9,9,W,W,W,W,W,W,W,W,W,W,9,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,18,18,18,18,18,18,tt,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,$,ot,ot,ot,ot,$,$,$,$,Q,$,$,18,$,$,ot,ot,W,W,$,Q,$,$,$,W,Q,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,Q,Q,Q,Q,Q,Q,Q,Q],[Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,Q,Q,Q,Q,Q,Q,Q,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,Q,$,$,$,$,$,$,$,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,Z,nt,Z,nt,nt,Z,nt,nt,Z,nt,$,$,$,$,$,$,$,$,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,$,$,$,$,$,Z,Z,Z,Z,Z,$,$,$,$,$,$,$,$,$,$,$],[K,K,K,K,$,$,$,$,it,ot,ot,it,9,it,$,$,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,it,$,$,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,K,K,K,K,K,K,K,K,K,K,ot,K,K,it,it,it,nt,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,nt,nt,nt,nt,nt,nt,nt,K,$,nt,nt,nt,nt,nt,nt,it,it,nt,nt,$,nt,nt,nt,nt,it,it,W,W,W,W,W,W,W,W,W,W,it,it,it,it,it,it],[it,it,it,it,it,it,it,it,it,it,it,it,it,it,$,it,it,nt,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,$,$,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,it,$,$,$,$,$,$,$,$,$,$,$,$,$,$,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,nt,nt,nt,nt,nt,nt,nt,nt,nt,Z,Z,$,$,$,$,Z,$,$,$,$,$],[rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,18,18,18,Q,Z,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,rt,tt,13,14,15,16,17,9,ot,ot,ot,ot,ot,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,9,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,rt,18,18,18,18,18,$,$,$,$,$,18,18,18,18,18,18,W,Q,$,$,W,W,W,W,W,W,10,10,$,$,$,Q,W,W,W,W,W,W,W,W,W,W,10,10,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$],[Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,Q,Q,Q,Q,Q,$,$,$,$,$,Z,nt,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,10,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,$,Z,Z,Z,Z,Z,$,Z,$,Z,Z,$,Z,Z,$,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it],[nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,nt,nt,nt,nt,nt,nt,nt,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,9,$,9,$,$,9,$,$,$,$,$,$,$,$,$,ot,$,$,10,10,$,$,$,$,$,ot,ot,$,$,$,$,$,it,it,it,it,it,$,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,it,$,$,18],[$,$,$,ot,ot,ot,$,$,$,$,$,10,9,10,9,9,W,W,W,W,W,W,W,W,W,W,9,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,Q,Q,Q,Q,Q,Q,$,$,Q,Q,Q,Q,Q,Q,$,$,Q,Q,Q,Q,Q,Q,$,$,Q,Q,Q,$,$,$,ot,ot,$,$,$,ot,ot,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$]];return r}.apply(null,r))||(t.exports=o)},1601:function(t,e,i){var r,o;r=[i.dj.c(t.i),e],void 0===(o=function(t,e){var i,r,o,n;Object.defineProperty(e,"__esModule",{value:!0}),(r=i=e.VectorRole||(e.VectorRole={}))[r.ENTRY=1]="ENTRY",r[r.EXIT=2]="EXIT",r[r.CAP=3]="CAP",(n=o=e.CapPosition||(e.CapPosition={}))[n.START=1]="START",n[n.END=2]="END",e.SYSTEM_MAG_LIMIT=3.8,e.MITER_SAFE_RADS=2*Math.acos(1/e.SYSTEM_MAG_LIMIT);var s=e.SYSTEM_MAG_LIMIT*e.SYSTEM_MAG_LIMIT,a=-1,h=8/(2*Math.PI);function c(t){var e,i={items:new Array,count:0};for(e=0;e<t;++e)i.items.push(void 0);return i}e.allocTriangles=function(t){var e,i={items:new Array,count:0};for(e=0;e<t;++e)i.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return i},e.allocExtrudeVectors=function(){var t=function(t){var e,i={items:new Array,count:0};for(e=0;e<30;++e)i.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});return i}(),e={};return e[i.ENTRY]=c(20),e[i.EXIT]=c(20),e[i.CAP]=c(20),{vectors:t,lists:e}},e.copyExtrudeVectors=function(t,e){var r;for(r=0;r<e.vectors.count;++r)t.vectors.items[r].vector[0]=e.vectors.items[r].vector[0],t.vectors.items[r].vector[1]=e.vectors.items[r].vector[1],t.vectors.items[r].texCoords[0]=e.vectors.items[r].texCoords[0],t.vectors.items[r].texCoords[1]=e.vectors.items[r].texCoords[1],t.vectors.items[r].direction[0]=e.vectors.items[r].direction[0],t.vectors.items[r].direction[1]=e.vectors.items[r].direction[1],t.vectors.items[r].base=e.vectors.items[r].base;t.vectors.count=e.vectors.count;var o=e.lists[i.ENTRY],n=t.lists[i.ENTRY],s=e.lists[i.EXIT],a=t.lists[i.EXIT],h=e.lists[i.CAP],c=t.lists[i.CAP];for(r=0;r<o.count;++r)n.items[r]=o.items[r];for(n.count=o.count,r=0;r<s.count;++r)a.items[r]=s.items[r];for(a.count=s.count,r=0;r<h.count;++r)c.items[r]=h.items[r];c.count=h.count,t.capCenter=e.capCenter};var u={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};function l(t,e){u.vector[0]=t.vector[0],u.vector[1]=t.vector[1],u.texCoords[0]=t.texCoords[0],u.texCoords[1]=t.texCoords[1],u.direction[0]=t.direction[0],u.direction[1]=t.direction[1],u.base=t.base,t.vector[0]=e.vector[0],t.vector[1]=e.vector[1],t.texCoords[0]=e.texCoords[0],t.texCoords[1]=e.texCoords[1],t.direction[0]=e.direction[0],t.direction[1]=e.direction[1],t.base=e.base,e.vector[0]=u.vector[0],e.vector[1]=u.vector[1],e.texCoords[0]=u.texCoords[0],e.texCoords[1]=u.texCoords[1],e.direction[0]=u.direction[0],e.direction[1]=u.direction[1],e.base=u.base}e.swapExtrudeVectors=l;var d,p=[];for(d=0;d<32;++d)p.push([void 0,void 0]);var v=function(t){var e,i={items:new Array,count:0};for(e=0;e<8;++e)i.items.push([void 0,void 0]);return i}();function f(t,e){return t[0]*e[0]+t[1]*e[1]}function y(t){return Math.sqrt(f(t,t))}function g(t,e){var i=y(e);return t[0]=e[0]/i,t[1]=e[1]/i,t}function _(t,e){return t[0]=-e[1],t[1]=e[0],t}function m(t,e){return t[0]*e[1]-t[1]*e[0]}function x(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function T(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function b(t,e,i){return r=t,n=i,((o=e)[0]-r[0])*(n[1]-r[1])-(n[0]-r[0])*(o[1]-r[1])<0;var r,o,n}function w(t,e){var i=f(t,e);return.999<i?0:i<-.999?Math.PI:Math.acos(i)}function I(t,e,i,r,o){if(0!==r){var n,s=y(e),a=(o?-1:1)*w(C(p[0],e,1/s),C(p[1],i,1/s))/r,h=Math.cos(a),c=Math.sin(a),u=e[0],l=e[1];for(n=0;n<r-1;++n){var d=u;u=h*d-c*l,l=c*d+h*l,t.items[n][0]=u,t.items[n][1]=l}t.count=r-1}else t.count=0}function A(t){var e,i=t.count,r=Math.floor(i/2);for(e=0;e<r;++e){var o=t.items[e];t.items[e]=t.items[i-e-1],t.items[i-e-1]=o}}e.length=y,e.normalize=g,e.getNumberOfSlices=function(t){return Math.max(Math.round(t*h),1)},e.getRads=w,e.reverse=A;var P=[void 0,void 0],S=[void 0,void 0],R=[0,0],L=[0,0],E=[0,0],M=[0,0],O=Math.cos(Math.PI/4),G=Math.sin(Math.PI/4),N=Math.sqrt(2),U=function(){function t(t){this._distanceAlongCorrection=t.distanceAlongCorrection}return t.prototype.bridge=function(t,e,r){var o,n,s,a,h=e.vectors,c=e.lists[i.EXIT],u=r.vectors,d=r.lists[i.ENTRY];if(c.count===d.count+1)o=c.items,n=h.items,s=d.items,a=u.items;else if(d.count===c.count+1)o=d.items,n=u.items,s=c.items,a=h.items;else{if(c.count!==d.count)return console.error("Cannot bridge "+c.count+" to "+d.count+"."),void(t.count=0);o=d.items,n=u.items,s=c.items,a=h.items}var p,v=c.count+d.count-2;for(t.count=v,P[0]=o,P[1]=s,S[0]=n,S[1]=a,p=0;p<v;++p){var f=t.items[p],y=(p+0)%2,g=Math.floor((p+0)/2),_=S[y][P[y][g]];f.v1.vector[0]=_.vector[0],f.v1.vector[1]=_.vector[1],f.v1.texCoords[0]=_.texCoords[0],f.v1.texCoords[1]=_.texCoords[1],f.v1.direction[0]=_.direction[0],f.v1.direction[1]=_.direction[1],f.v1.base=_.base;var m=(p+1)%2,x=Math.floor((p+1)/2),C=S[m][P[m][x]];f.v2.vector[0]=C.vector[0],f.v2.vector[1]=C.vector[1],f.v2.texCoords[0]=C.texCoords[0],f.v2.texCoords[1]=C.texCoords[1],f.v2.direction[0]=C.direction[0],f.v2.direction[1]=C.direction[1],f.v2.base=C.base;var T=(p+2)%2,w=Math.floor((p+2)/2),I=S[T][P[T][w]];f.v3.vector[0]=I.vector[0],f.v3.vector[1]=I.vector[1],f.v3.texCoords[0]=I.texCoords[0],f.v3.texCoords[1]=I.texCoords[1],f.v3.direction[0]=I.direction[0],f.v3.direction[1]=I.direction[1],f.v3.base=I.base;var A=f.v1.base&&f.v1.base.point||R,O=f.v2.base&&f.v2.base.point||R,G=f.v3.base&&f.v3.base.point||R;L[0]=A[0]+f.v1.vector[0],L[1]=A[1]+f.v1.vector[1],E[0]=O[0]+f.v2.vector[0],E[1]=O[1]+f.v2.vector[1],M[0]=G[0]+f.v3.vector[0],M[1]=G[1]+f.v3.vector[1],b(L,E,M)||l(f.v2,f.v3)}},t.prototype.pie=function(t,e){if(0!==e.lists[i.CAP].count){if(1===e.lists[i.CAP].count)return console.error("A single vector is not enough to define a pie."),void(t.count=0);var r;for(t.count=e.lists[i.CAP].count-1,r=0;r<t.count;++r){var o=t.items[r],n=e.lists[i.CAP].items[r],s=e.vectors.items[n];o.v1.vector[0]=s.vector[0],o.v1.vector[1]=s.vector[1],o.v1.texCoords[0]=s.texCoords[0],o.v1.texCoords[1]=s.texCoords[1],o.v1.direction[0]=s.direction[0],o.v1.direction[1]=s.direction[1],o.v1.base=s.base;var a=e.lists[i.CAP].items[r+1],h=e.vectors.items[a];o.v2.vector[0]=h.vector[0],o.v2.vector[1]=h.vector[1],o.v2.texCoords[0]=h.texCoords[0],o.v2.texCoords[1]=h.texCoords[1],o.v2.direction[0]=h.direction[0],o.v2.direction[1]=h.direction[1],o.v2.base=h.base;var c=e.capCenter,u=e.vectors.items[c];o.v3.vector[0]=u.vector[0],o.v3.vector[1]=u.vector[1],o.v3.texCoords[0]=u.texCoords[0],o.v3.texCoords[1]=u.texCoords[1],o.v3.direction[0]=u.direction[0],o.v3.direction[1]=u.direction[1],o.v3.base=u.base;var d=o.v1.base&&o.v1.base.point||R,p=o.v2.base&&o.v2.base.point||R,v=o.v3.base&&o.v3.base.point||R;L[0]=d[0]+o.v1.vector[0],L[1]=d[1]+o.v1.vector[1],E[0]=p[0]+o.v2.vector[0],E[1]=p[1]+o.v2.vector[1],M[0]=v[0]+o.v3.vector[0],M[1]=v[1]+o.v3.vector[1],b(L,E,M)||l(o.v2,o.v3)}}else t.count=0},t.prototype.buttCap=function(t,e,i){this.fastMiterJoin(t,e,i)},t.prototype.roundCap=function(t,e,r,n,s,a){void 0===a&&(a=0),this.fastMiterJoin(t,e,r);var h=n===o.START?0:1,c=n===o.START?1:0;t.capCenter=t.vectors.count;var u=t.vectors.items[t.capCenter];u.vector[0]=0,u.vector[1]=0,u.texCoords[0]=0,u.texCoords[1]=0,u.direction[0]=0,u.direction[1]=0,++t.vectors.count,I(v,t.vectors.items[h].vector,t.vectors.items[c].vector,s,!1);var l=t.vectors.count,d=t.lists[i.CAP];d.items[0]=h;var p,f=t.vectors.items[h].texCoords[1],y=t.vectors.items[c].texCoords[1];for(p=0;p<v.count;++p){var g=a*(1-Math.abs(v.count/2-p)/(v.count/2)),_=f+p/(v.count-1)*(y-f),m=v.items[p],x=t.vectors.items[l+p];x.vector[0]=m[0],x.vector[1]=m[1],x.texCoords[0]=g,x.texCoords[1]=_,x.direction[0]=0,x.direction[1]=0,d.items[p+1]=l+p}d.items[v.count+1]=c,d.count=v.count+2,t.vectors.count=l+v.count},t.prototype.squareCap=function(t,e,i,r){this.fastMiterJoin(t,e,i);var n=r===o.START?0:1,s=r===o.START?1:0,a=p[0],h=p[1],c=p[2],u=p[3],l=p[4],d=t.vectors.items[n].vector;a[0]=O*d[0]-G*d[1],a[1]=G*d[0]+O*d[1],C(u,a,N),h[0]=O*a[0]-G*a[1],h[1]=G*a[0]+O*a[1],c[0]=O*h[0]-G*h[1],c[1]=G*h[0]+O*h[1],C(l,c,N);var v=t.vectors.items[n];v.vector[0]=u[0],v.vector[1]=u[1];var f=t.vectors.items[s];f.vector[0]=l[0],f.vector[1]=l[1]},t.prototype.squareCapForDashedLines=function(t,e,r,n){if(n===o.START){var s=_(p[0],r),a=x(p[4],s),h=p[1],c=p[2],u=p[3];h[0]=O*s[0]-G*s[1],h[1]=G*s[0]+O*s[1],c[0]=O*h[0]-G*h[1],c[1]=G*h[0]+O*h[1],u[0]=O*c[0]-G*c[1],u[1]=G*c[0]+O*c[1],(l=p[5])[0]=0,l[1]=0,t.capCenter=0,(d=t.vectors.items)[0].vector[0]=l[0],d[0].vector[1]=l[1],d[0].direction[0]=0,d[0].direction[1]=0,d[0].texCoords[0]=0,d[0].texCoords[1]=0,d[1].vector[0]=s[0],d[1].vector[1]=s[1],d[1].direction[0]=0,d[1].direction[1]=0,d[1].texCoords[0]=0,d[1].texCoords[1]=-1,d[2].vector[0]=h[0]*N,d[2].vector[1]=h[1]*N,d[2].direction[0]=0,d[2].direction[1]=0,d[2].texCoords[0]=-1,d[2].texCoords[1]=-1,d[3].vector[0]=u[0]*N,d[3].vector[1]=u[1]*N,d[3].direction[0]=0,d[3].direction[1]=0,d[3].texCoords[0]=-1,d[3].texCoords[1]=1,d[4].vector[0]=a[0],d[4].vector[1]=a[1],d[4].direction[0]=0,d[4].direction[1]=0,d[4].texCoords[0]=0,d[4].texCoords[1]=1,t.vectors.count=5,t.lists[i.CAP].count=4,t.lists[i.CAP].items[0]=1,t.lists[i.CAP].items[1]=2,t.lists[i.CAP].items[2]=3,t.lists[i.CAP].items[3]=4,t.lists[i.ENTRY].count=0,t.lists[i.EXIT].count=3,t.lists[i.EXIT].items[0]=1,t.lists[i.EXIT].items[1]=0,t.lists[i.EXIT].items[2]=4}else{var l,d;s=_(p[0],r),a=x(p[4],s),h=p[1],c=p[2],u=p[3],h[0]=O*a[0]-G*a[1],h[1]=G*a[0]+O*a[1],c[0]=O*h[0]-G*h[1],c[1]=G*h[0]+O*h[1],u[0]=O*c[0]-G*c[1],u[1]=G*c[0]+O*c[1],(l=p[5])[0]=0,l[1]=0,t.capCenter=0,(d=t.vectors.items)[0].vector[0]=l[0],d[0].vector[1]=l[1],d[0].direction[0]=0,d[0].direction[1]=0,d[0].texCoords[0]=0,d[0].texCoords[1]=0,d[1].vector[0]=a[0],d[1].vector[1]=a[1],d[1].direction[0]=0,d[1].direction[1]=0,d[1].texCoords[0]=0,d[1].texCoords[1]=1,d[2].vector[0]=h[0]*N,d[2].vector[1]=h[1]*N,d[2].direction[0]=0,d[2].direction[1]=0,d[2].texCoords[0]=1,d[2].texCoords[1]=1,d[3].vector[0]=u[0]*N,d[3].vector[1]=u[1]*N,d[3].direction[0]=0,d[3].direction[1]=0,d[3].texCoords[0]=1,d[3].texCoords[1]=-1,d[4].vector[0]=s[0],d[4].vector[1]=s[1],d[4].direction[0]=0,d[4].direction[1]=0,d[4].texCoords[0]=0,d[4].texCoords[1]=-1,t.vectors.count=5,t.lists[i.CAP].count=4,t.lists[i.CAP].items[0]=1,t.lists[i.CAP].items[1]=2,t.lists[i.CAP].items[2]=3,t.lists[i.CAP].items[3]=4,t.lists[i.ENTRY].count=3,t.lists[i.ENTRY].items[0]=4,t.lists[i.ENTRY].items[1]=0,t.lists[i.ENTRY].items[2]=1,t.lists[i.EXIT].count=0}},t.prototype.fastMiterJoin=function(t,e,r){var o=_(p[0],r),n=o,s=x(p[1],o),h=t.vectors.items[0];h.vector[0]=n[0],h.vector[1]=n[1],h.texCoords[0]=0,h.texCoords[1]=a,h.direction[0]=0,h.direction[1]=0;var c=t.vectors.items[1];c.vector[0]=s[0],c.vector[1]=s[1],c.texCoords[0]=0,c.texCoords[1]=1,c.direction[0]=0,c.direction[1]=0,t.vectors.count=2;var u=t.lists[i.ENTRY];u.items[0]=0,u.items[1]=1,u.count=2;var l=t.lists[i.EXIT];l.items[0]=0,l.items[1]=1,l.count=2,t.lists[i.CAP].count=0,t.capCenter=void 0},t.prototype.miterJoin=function(t,e,r){var o=_(p[0],e),n=_(p[1],r),s=p[2];s[0]=o[0]+n[0],s[1]=o[1]+n[1];var h=g(p[3],s),c=f(h,o);h=C(p[4],h,1/c);var u=x(p[5],h);if(this._distanceAlongCorrection){(v=t.vectors.items[0]).vector[0]=h[0],v.vector[1]=h[1],v.texCoords[0]=0,v.texCoords[1]=a,v.direction[0]=e[0],v.direction[1]=e[1],(y=t.vectors.items[1]).vector[0]=u[0],y.vector[1]=u[1],y.texCoords[0]=0,y.texCoords[1]=1,y.direction[0]=e[0],y.direction[1]=e[1];var l=t.vectors.items[2];l.vector[0]=h[0],l.vector[1]=h[1],l.texCoords[0]=0,l.texCoords[1]=a,l.direction[0]=r[0],l.direction[1]=r[1];var d=t.vectors.items[3];d.vector[0]=u[0],d.vector[1]=u[1],d.texCoords[0]=0,d.texCoords[1]=1,d.direction[0]=r[0],d.direction[1]=r[1],t.vectors.count=4,(m=t.lists[i.ENTRY]).items[0]=0,m.items[1]=1,m.count=2,(T=t.lists[i.EXIT]).items[0]=2,T.items[1]=3,T.count=2}else{var v,y,m,T;(v=t.vectors.items[0]).vector[0]=h[0],v.vector[1]=h[1],v.texCoords[0]=0,v.texCoords[1]=a,v.direction[0]=0,v.direction[1]=0,(y=t.vectors.items[1]).vector[0]=u[0],y.vector[1]=u[1],y.texCoords[0]=0,y.texCoords[1]=1,y.direction[0]=0,y.direction[1]=0,t.vectors.count=2,(m=t.lists[i.ENTRY]).items[0]=0,m.items[1]=1,m.count=2,(T=t.lists[i.EXIT]).items[0]=0,T.items[1]=1,T.count=2}t.lists[i.CAP].count=0,t.capCenter=void 0},t.prototype.bevelJoin=function(t,e,r,o){var n=o*o,h=m(e,r),c=0<h?[a,1]:[1,a],u=c[0],l=c[1],d=0<h?x(p[0],_(p[1],e)):_(p[2],e),v=0<h?x(p[3],_(p[4],r)):_(p[5],r),y=p[6];y[0]=d[0]+v[0],y[1]=d[1]+v[1];var b=g(p[7],y),w=x(p[8],b),I=f(b,d),P=m(b,d),S=Math.abs(P/I),R=1+S*S,L=R<s?[S,this._distanceAlongCorrection]:[Math.sqrt(s-1),!0],E=L[0],M=L[1],O=R<n?[S,this._distanceAlongCorrection]:[Math.sqrt(n-1),!0],G=O[0],N=O[1];if(N&&M){T((F=t.vectors.items[0]).vector,x(p[9],d),C(p[10],x(p[11],e),E)),F.texCoords[0]=0,F.texCoords[1]=u,F.direction[0]=this._distanceAlongCorrection?e[0]:0,F.direction[1]=this._distanceAlongCorrection?e[1]:0,T((V=t.vectors.items[1]).vector,x(p[12],v),C(p[13],r,E)),V.texCoords[0]=0,V.texCoords[1]=u,V.direction[0]=this._distanceAlongCorrection?r[0]:0,V.direction[1]=this._distanceAlongCorrection?r[1]:0,(B=t.vectors.items[2]).vector[0]=0,B.vector[1]=0,B.texCoords[0]=0,B.texCoords[1]=0,B.direction[0]=0,B.direction[1]=0,T((D=t.vectors.items[3]).vector,d,C(p[14],e,G)),D.texCoords[0]=0,D.texCoords[1]=l,D.direction[0]=this._distanceAlongCorrection?e[0]:0,D.direction[1]=this._distanceAlongCorrection?e[1]:0;var U=t.vectors.items[4];T(U.vector,v,C(p[15],x(p[16],r),G)),U.texCoords[0]=0,U.texCoords[1]=l,U.direction[0]=this._distanceAlongCorrection?r[0]:0,U.direction[1]=this._distanceAlongCorrection?r[1]:0,t.vectors.count=5,(j=t.lists[i.ENTRY]).items[0]=0,j.items[1]=2,j.items[2]=3,j.count=3,(k=t.lists[i.EXIT]).items[0]=1,k.items[1]=2,k.items[2]=4,k.count=3,R<n?((q=t.lists[i.CAP]).count=0,t.capCenter=void 0):((q=t.lists[i.CAP]).items[0]=3,q.items[1]=4,q.count=2,t.capCenter=2)}else if(!N&&M)T((F=t.vectors.items[0]).vector,x(p[9],d),C(p[10],x(p[11],e),E)),F.texCoords[0]=0,F.texCoords[1]=u,F.direction[0]=this._distanceAlongCorrection?e[0]:0,F.direction[1]=this._distanceAlongCorrection?e[1]:0,T((V=t.vectors.items[1]).vector,x(p[12],v),C(p[13],r,E)),V.texCoords[0]=0,V.texCoords[1]=u,V.direction[0]=this._distanceAlongCorrection?r[0]:0,V.direction[1]=this._distanceAlongCorrection?r[1]:0,(B=t.vectors.items[2]).vector[0]=0,B.vector[1]=0,B.texCoords[0]=0,B.texCoords[1]=0,B.direction[0]=0,B.direction[1]=0,C((D=t.vectors.items[3]).vector,b,1/I),D.texCoords[0]=0,D.texCoords[1]=l,D.direction[0]=0,D.direction[1]=0,t.vectors.count=4,(j=t.lists[i.ENTRY]).items[0]=0,j.items[1]=2,j.items[2]=3,j.count=3,(k=t.lists[i.EXIT]).items[0]=1,k.items[1]=2,k.items[2]=3,k.count=3,t.lists[i.CAP].count=0,t.capCenter=void 0;else if(N&&!M){var B,D,q;C((F=t.vectors.items[0]).vector,w,1/I),F.texCoords[0]=0,F.texCoords[1]=u,F.direction[0]=0,F.direction[1]=0,(V=t.vectors.items[1]).vector[0]=0,V.vector[1]=0,V.texCoords[0]=0,V.texCoords[1]=0,V.direction[0]=0,V.direction[1]=0,T((B=t.vectors.items[2]).vector,d,C(p[9],e,G)),B.texCoords[0]=0,B.texCoords[1]=l,B.direction[0]=this._distanceAlongCorrection?e[0]:0,B.direction[1]=this._distanceAlongCorrection?e[1]:0,T((D=t.vectors.items[3]).vector,v,C(p[10],x(p[11],r),G)),D.texCoords[0]=0,D.texCoords[1]=l,D.direction[0]=this._distanceAlongCorrection?r[0]:0,D.direction[1]=this._distanceAlongCorrection?r[1]:0,t.vectors.count=4,(j=t.lists[i.ENTRY]).items[0]=0,j.items[1]=1,j.items[2]=2,j.count=3,(k=t.lists[i.EXIT]).items[0]=0,k.items[1]=1,k.items[2]=3,k.count=3,R<n?((q=t.lists[i.CAP]).count=0,t.capCenter=void 0):((q=t.lists[i.CAP]).items[0]=2,q.items[1]=3,q.count=2,t.capCenter=1)}else if(!N&&!M){var F,V,j,k;C((F=t.vectors.items[0]).vector,w,1/I),F.texCoords[0]=0,F.texCoords[1]=u,F.direction[0]=0,F.direction[1]=0,C((V=t.vectors.items[1]).vector,b,1/I),V.texCoords[0]=0,V.texCoords[1]=l,V.direction[0]=0,V.direction[1]=0,t.vectors.count=2,(j=t.lists[i.ENTRY]).items[0]=0,j.items[1]=1,j.count=2,(k=t.lists[i.EXIT]).items[0]=0,k.items[1]=1,k.count=2,t.lists[i.CAP].count=0,t.capCenter=void 0}h<0&&(A(t.lists[i.ENTRY]),A(t.lists[i.EXIT]))},t.prototype.roundJoin=function(t,e,r,o){var n=m(e,r),h=0<n?[a,1]:[1,a],c=h[0],u=h[1],l=0<n?x(p[0],_(p[1],e)):_(p[2],e),d=0<n?x(p[3],_(p[4],r)):_(p[5],r),y=p[6];y[0]=l[0]+d[0],y[1]=l[1]+d[1];var b=g(p[7],y),w=x(p[8],b),P=f(b,l),S=m(b,l),R=Math.abs(S/P),L=1+R*R<s?[R,this._distanceAlongCorrection]:[Math.sqrt(s-1),!0],E=L[0];if(L[1]){(O=t.vectors.items[0]).vector[0]=l[0],O.vector[1]=l[1],O.texCoords[0]=0,O.texCoords[1]=u,O.direction[0]=0,O.direction[1]=0,(G=t.vectors.items[1]).vector[0]=d[0],G.vector[1]=d[1],G.texCoords[0]=0,G.texCoords[1]=u,G.direction[0]=0,G.direction[1]=0,T((N=t.vectors.items[2]).vector,x(p[9],l),C(p[10],x(p[11],e),E)),N.texCoords[0]=0,N.texCoords[1]=c,N.direction[0]=this._distanceAlongCorrection?e[0]:0,N.direction[1]=this._distanceAlongCorrection?e[1]:0,T((U=t.vectors.items[3]).vector,x(p[12],d),C(p[13],r,E)),U.texCoords[0]=0,U.texCoords[1]=c,U.direction[0]=this._distanceAlongCorrection?r[0]:0,U.direction[1]=this._distanceAlongCorrection?r[1]:0;var M=t.vectors.items[4];M.vector[0]=0,M.vector[1]=0,M.texCoords[0]=0,M.texCoords[1]=0,M.direction[0]=0,M.direction[1]=0,t.vectors.count=5,(B=t.lists[i.ENTRY]).items[0]=2,B.items[1]=4,B.items[2]=0,B.count=3,(D=t.lists[i.EXIT]).items[0]=3,D.items[1]=4,D.items[2]=1,D.count=3,t.capCenter=4}else{var O,G,N,U,B,D;(O=t.vectors.items[0]).vector[0]=l[0],O.vector[1]=l[1],O.texCoords[0]=0,O.texCoords[1]=u,O.direction[0]=0,O.direction[1]=0,(G=t.vectors.items[1]).vector[0]=d[0],G.vector[1]=d[1],G.texCoords[0]=0,G.texCoords[1]=u,G.direction[0]=0,G.direction[1]=0,C((N=t.vectors.items[2]).vector,w,1/P),N.texCoords[0]=0,N.texCoords[1]=c,N.direction[0]=0,N.direction[1]=0,(U=t.vectors.items[3]).vector[0]=0,U.vector[1]=0,U.texCoords[0]=0,U.texCoords[1]=0,U.direction[0]=0,U.direction[1]=0,t.vectors.count=4,(B=t.lists[i.ENTRY]).items[0]=2,B.items[1]=3,B.items[2]=0,B.count=3,(D=t.lists[i.EXIT]).items[0]=2,D.items[1]=3,D.items[2]=1,D.count=3,t.capCenter=3}I(v,l,d,o,n<0);var q,F=t.vectors.count,V=t.lists[i.CAP];for(q=V.items[0]=0;q<v.count;++q){var j=v.items[q],k=t.vectors.items[F+q];k.vector[0]=j[0],k.vector[1]=j[1],k.texCoords[0]=0,k.texCoords[1]=u,k.direction[0]=0,k.direction[1]=0,V.items[q+1]=F+q}V.items[v.count+1]=1,V.count=v.count+2,t.vectors.count=F+v.count,n<0&&(A(t.lists[i.ENTRY]),A(t.lists[i.EXIT]))},t.prototype.unitRoundJoin=function(t,e,r,o){var n=m(e,r),s=0<n?[a,1]:[1,a],h=s[0],c=s[1],u=0<n?x(p[0],_(p[1],e)):_(p[2],e),l=0<n?x(p[3],_(p[4],r)):_(p[5],r),d=t.vectors.items[0];d.vector[0]=u[0],d.vector[1]=u[1],d.texCoords[0]=0,d.texCoords[1]=c,d.direction[0]=0,d.direction[1]=0;var f=t.vectors.items[1];f.vector[0]=l[0],f.vector[1]=l[1],f.texCoords[0]=0,f.texCoords[1]=c,f.direction[0]=0,f.direction[1]=0;var y=t.vectors.items[2];x(y.vector,u),y.texCoords[0]=0,y.texCoords[1]=h,y.direction[0]=0,y.direction[1]=0;var g=t.vectors.items[3];x(g.vector,l),g.texCoords[0]=0,g.texCoords[1]=h,g.direction[0]=0,g.direction[1]=0;var C=t.vectors.items[4];C.vector[0]=0,C.vector[1]=0,C.texCoords[0]=0,C.texCoords[1]=0,C.direction[0]=0,C.direction[1]=0,t.vectors.count=5;var T=t.lists[i.ENTRY];T.items[0]=2,T.items[1]=0,T.count=2;var b=t.lists[i.EXIT];b.items[0]=3,b.items[1]=1,b.count=2,t.capCenter=4,I(v,u,l,o,n<0);var w,P=t.vectors.count,S=t.lists[i.CAP];for(w=S.items[0]=0;w<v.count;++w){var R=v.items[w],L=t.vectors.items[P+w];L.vector[0]=R[0],L.vector[1]=R[1],L.texCoords[0]=0,L.texCoords[1]=c,L.direction[0]=0,L.direction[1]=0,S.items[w+1]=P+w}S.items[v.count+1]=1,S.count=v.count+2,t.vectors.count=P+v.count,n<0&&(A(t.lists[i.ENTRY]),A(t.lists[i.EXIT]))},t.prototype.rectJoin=function(t,e,r){var o=_(p[0],e),n=_(p[1],r),s=t.vectors.items[0];s.vector[0]=o[0],s.vector[1]=o[1],s.texCoords[0]=0,s.texCoords[1]=a,s.direction[0]=0,s.direction[1]=0;var h=t.vectors.items[1];h.vector[0]=n[0],h.vector[1]=n[1],h.texCoords[0]=0,h.texCoords[1]=a,h.direction[0]=0,h.direction[1]=0;var c=t.vectors.items[2];x(c.vector,o),c.texCoords[0]=0,c.texCoords[1]=1,c.direction[0]=0,c.direction[1]=0;var u=t.vectors.items[3];x(u.vector,n),u.texCoords[0]=0,u.texCoords[1]=1,u.direction[0]=0,u.direction[1]=0,t.vectors.count=4;var l=t.lists[i.ENTRY];l.items[0]=0,l.items[1]=2,l.count=2;var d=t.lists[i.EXIT];d.items[0]=1,d.items[1]=3,d.count=2,t.capCenter=void 0},t}();e.Tessellator=U}.apply(null,r))||(t.exports=o)},2271:function(t,e,i){var r,o;r=[i.dj.c(t.i),e,i(2),i(1),i(17),i(9),i(0),i(1510),i(1512),i(1566)],void 0===(o=function(t,e,i,r,o,n,s,a,h,c){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._handles=new o,e._popupTemplates=new Map,e.container=new a.Container,e.graphicsViews=[],e}return i(e,t),e.prototype.hitTest=function(t,e){var i=this;if(this.suspended||!this.graphicsViews.length)return n.resolve();var r=this.graphicsViews.map(function(i){return i.hitTest(t,e)});return n.all(r).then(function(t){return t.filter(function(t,e){return t&&(t.popupTemplate=i._popupTemplates.get(i.graphicsViews[e]),t.layer=i.layer,t.sourceLayer=i.layer),!!t})[0]||null})},e.prototype.update=function(t){if(this.graphicsViews)for(var e=0,i=this.graphicsViews;e<i.length;e++){i[e].update(t)}},e.prototype.attach=function(){var t=this;this.layer.featureCollections.forEach(function(e){var i=new c.default({view:t.view,graphics:e.source});i.renderer=e.renderer,t._popupTemplates.set(i,e.popupTemplate),t.graphicsViews.push(i),t.container.addChild(i.container)})},e.prototype.detach=function(){this.container.removeAllChildren(),this.graphicsViews.forEach(function(t){t.destroy(),t.view=null,t.renderer=null}),this.graphicsViews.length=0,this._handles.removeAll(),this._popupTemplates=null},e.prototype.moveStart=function(){this.requestUpdate()},e.prototype.viewChange=function(){this.requestUpdate()},e.prototype.moveEnd=function(){this.requestUpdate()},r([s.subclass("esri.views.2d.layers.MapNotesLayerView2D")],e)}(s.declared(h))}.apply(null,r))||(t.exports=o)}}]);