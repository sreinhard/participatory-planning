(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/engine/vectorTiles/WorkerTileHandler":1452,"esri/core/pbf":1471,"esri/views/2d/engine/vectorTiles/Bucket":1593,"esri/views/2d/engine/vectorTiles/MemoryBuffer":1638,"esri/views/2d/tiling/enums":1700,"esri/views/2d/engine/vectorTiles/BackgroundBucket":1786,"esri/views/2d/engine/vectorTiles/CircleBucket":1787,"esri/views/2d/engine/vectorTiles/FillBucket":1788,"esri/views/2d/engine/vectorTiles/LineBucket":1789,"esri/views/2d/engine/vectorTiles/Placement":1790,"esri/views/2d/engine/vectorTiles/SymbolBucket":1791,"esri/views/2d/engine/vectorTiles/WorkerTile":2320,"esri/core/executeAsync":2321,"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":2322,"esri/views/2d/engine/vectorTiles/Conflict":2323,"esri/views/2d/engine/vectorTiles/TileParser":2324,"esri/views/2d/engine/vectorTiles/Feature":2325,"esri/views/2d/engine/vectorTiles/SourceLayerData":2326,"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":2327})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1452:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(8),r(2320),r(619),r(1700)],void 0===(n=function(e,t,r,i,n,o){return function(){function e(){this._tiles=new Map,this._spriteInfo={},this._glyphInfo={}}return e.prototype.reset=function(){this._spriteInfo={},this._glyphInfo={};var e=this._tiles;return e.forEach(function(e){return e.setObsolete()}),e.clear(),r.resolve()},e.prototype.getLayers=function(){return this._layers},e.prototype.setLayers=function(e){var t=new n(e);return this._layers=t.layers,r.resolve({data:""})},e.prototype.createTileAndParse=function(e,t){for(var n=this,a=e.key,s=e.cacheTile,u=i.pool.acquire(),l={},f=0,c=Object.keys(e.sourceName2DataAndRefKey);f<c.length;f++){var h=c[f],d=e.sourceName2DataAndRefKey[h];l[h]=d.refKey}return u.initialize(a,l,this,e.rotation),u.setDataAndParse(e.sourceName2DataAndRefKey,t).then(function(e){return s&&u.status!==o.TileStatus.INVALID&&n._tiles.set(a,u),e}).catch(function(e){return u.setObsolete(),i.pool.release(u),n._tiles.has(u.tileKey)&&n._tiles.delete(u.tileKey),r.reject(e)}).catch(function(e){return e}).then(function(e){return s||i.pool.release(u),e})},e.prototype.updateSymbols=function(e){var t=this._tiles.get(e.key);return t?t.updateSymbols(e.rotation):r.reject()},e.prototype.updateStyle=function(e,t){var i=new n(e);return this._layers=i.layers,this._tiles.forEach(function(e,r){e.reparse(t).then(function(r){t.client.invoke("updateTileData",{tileId:e.tileKey,tileData:r.result})})}),r.resolve({data:""})},e.prototype.destructTileData=function(e){return this._tiles.has(e)&&(i.pool.release(this._tiles.get(e)),this._tiles.delete(e)),r.resolve()},e.prototype.fetchSprites=function(e,t,i){var n=[],o=this._spriteInfo;return e.forEach(function(e){void 0===o[e]&&n.push(e)}),0===n.length?r.resolve():t.invoke("getSprites",n,{signal:i&&i.signal}).then(function(e){for(var t in e){var r=e[t];o[t]=r}})},e.prototype.getSpriteItems=function(){return this._spriteInfo},e.prototype.fetchGlyphs=function(e,t,i,n,o){var a=[],s=this._glyphInfo[t];return s?i.forEach(function(e){s[e]||a.push(e)}):(s=this._glyphInfo[t]=[],i.forEach(function(e){return a.push(e)})),0===a.length?r.resolve():n.invoke("getGlyphs",{tileID:e,font:t,codePoints:a},o).then(function(e){for(var t in e)s[t]=e[t]})},e.prototype.getGlyphItems=function(e){return this._glyphInfo[e]},e}()}.apply(null,i))||(e.exports=n)},1471:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(22)],void 0===(n=function(e,t,r){var i=r("esri-text-decoder")?TextDecoder:null;return function(){function e(e,t,r,n){this._tag=0,this._dataType=99,this._data=e,this._dataView=t,this._pos=r||0,this._end=n||e.byteLength,this._textDecoder=i?new i("utf-8"):null}return e.prototype.clone=function(){return new e(this._data,this._dataView,this._pos,this._end)},e.prototype.pos=function(){return this._pos},e.prototype.next=function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0},e.prototype.empty=function(){return this._pos>=this._end},e.prototype.tag=function(){return this._tag},e.prototype.getInt32=function(){return this._decodeVarint()},e.prototype.getInt64=function(){return this._decodeVarint()},e.prototype.getUInt32=function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))},e.prototype.getUInt64=function(){return this._decodeVarint()},e.prototype.getSInt32=function(){var e=this.getUInt32();return e>>>1^-(1&e)|0},e.prototype.getSInt64=function(){return this._decodeSVarint()},e.prototype.getBool=function(){var e=0!==this._data[this._pos];return this._skip(1),e},e.prototype.getEnum=function(){return this._decodeVarint()},e.prototype.getFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getUint32(t+4,!0);return this._skip(8),r},e.prototype.getSFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getInt32(t+4,!0);return this._skip(8),r},e.prototype.getDouble=function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e},e.prototype.getFixed32=function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e},e.prototype.getSFixed32=function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e},e.prototype.getFloat=function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e},e.prototype.getString=function(){var e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r},e.prototype.getBytes=function(){var e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r},e.prototype.getMessage=function(){var t=this._getLength(),r=this._pos,i=new e(this._data,this._dataView,r,r+t);return this._skip(t),i},e.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}},e.prototype._skip=function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e},e.prototype._decodeVarint=function(){var e,t=this._data,r=this._pos,i=0;if(this._end-r>=10)do{if(i|=127&(e=t[r++]),0==(128&e))break;if(i|=(127&(e=t[r++]))<<7,0==(128&e))break;if(i|=(127&(e=t[r++]))<<14,0==(128&e))break;if(i|=(127&(e=t[r++]))<<21,0==(128&e))break;if(i+=268435456*(127&(e=t[r++])),0==(128&e))break;if(i+=34359738368*(127&(e=t[r++])),0==(128&e))break;if(i+=4398046511104*(127&(e=t[r++])),0==(128&e))break;if(i+=562949953421312*(127&(e=t[r++])),0==(128&e))break;if(i+=72057594037927940*(127&(e=t[r++])),0==(128&e))break;if(i+=0x8000000000000000*(127&(e=t[r++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var n=1;r!==this._end&&0!=(128&(e=t[r]));)++r,i+=(127&e)*n,n*=128;if(r===this._end)throw new Error("Varint overrun!");++r,i+=e*n}return this._pos=r,i},e.prototype._decodeSVarint=function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2},e.prototype._getLength=function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()},e.prototype._toString=function(e,t,r){if(r=Math.min(this._end,r),this._textDecoder){var i=e.subarray(t,r);return this._textDecoder.decode(i)}for(var n="",o="",a=t;a<r;++a){var s=e[a];128&s?o+="%"+s.toString(16):(n+=decodeURIComponent(o)+String.fromCharCode(s),o="")}return o.length&&(n+=decodeURIComponent(o)),n},e.prototype._toBytes=function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)},e}()}.apply(null,i))||(e.exports=n)},1593:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(e,t){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=t,this._filter=e.getFeatureFilter()}return e.prototype.pushFeature=function(e){this._filter.filter(e)&&this._features.push(e)},e.prototype.hasFeatures=function(){return this._features.length>0},e.prototype.processFeatures=function(e,t){},e.prototype.assignBufferInfo=function(e){},e}()}.apply(null,i))||(e.exports=n)},1638:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(e){this._array=[],e<=0&&console.error("strideInBytes must be positive!"),this._stride=e}return Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.array.length=0},e.prototype.toBuffer=function(){return new Uint32Array(this._array).buffer},e.i1616to32=function(e,t){return 65535&e|t<<16},e.i8888to32=function(e,t,r,i){return 255&e|(255&t)<<8|(255&r)<<16|i<<24},e.i8816to32=function(e,t,r){return 255&e|(255&t)<<8|r<<16},e}()}.apply(null,i))||(e.exports=n)},1700:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.NO_DATA=1]="NO_DATA",e[e.READY=2]="READY",e[e.MODIFIED=3]="MODIFIED",e[e.INVALID=4]="INVALID"}(t.TileStatus||(t.TileStatus={}))}.apply(null,i))||(e.exports=n)},1786:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(1593)],void 0===(n=function(e,t,r,i){return function(e){function t(t,r){return e.call(this,t,r)||this}return r(t,e),t}(i)}.apply(null,i))||(e.exports=n)},1787:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(1593)],void 0===(n=function(e,t,r,i){return function(e){function t(t,r,i,n){var o=e.call(this,t,r)||this;return o._circleVertexBuffer=i,o._circleIndexBuffer=n,o}return r(t,e),Object.defineProperty(t.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._circleIndexStart=this._circleIndexStart,t._circleIndexCount=this._circleIndexCount},t.prototype.processFeatures=function(e,t){var r=this._circleVertexBuffer,i=this._circleIndexBuffer;this._circleIndexStart=i.index,this._circleIndexCount=0;var n=this.layer,o=this.zoom;e&&e.setExtent(this.layerExtent);for(var a=1,s=[1,1,1,1],u=1,l=0,f=1,c=[1,1,1,1],h=1,d=0,x=this._features;d<x.length;d++){var p=x[d],y=p.getGeometry(e);if(y){n.hasDataDrivenRadius&&(a=n.getPaintValue("circle-radius",o,p)),n.hasDataDrivenColor&&(s=n.getPaintValue("circle-color",o,p)),n.hasDataDrivenOpacity&&(u=n.getPaintValue("circle-opacity",o,p)),n.hasDataDrivenStrokeWidth&&(f=n.getPaintValue("circle-stroke-width",o,p)),n.hasDataDrivenStrokeColor&&(c=n.getPaintValue("circle-stroke-color",o,p)),n.hasDataDrivenStrokeOpacity&&(h=n.getPaintValue("circle-stroke-opacity",o,p)),n.hasDataDrivenBlur&&(l=n.getPaintValue("circle-blur",o,p));for(var _=0,g=y;_<g.length;_++){var v=g[_];if(v)for(var m=0,I=v;m<I.length;m++){var V=I[m],B=r.index;r.add(V.x,V.y,0,0,a,s,u,l,f,c,h),r.add(V.x,V.y,0,1,a,s,u,l,f,c,h),r.add(V.x,V.y,1,0,a,s,u,l,f,c,h),r.add(V.x,V.y,1,1,a,s,u,l,f,c,h),i.add(B+0,B+1,B+2),i.add(B+1,B+2,B+3),this._circleIndexCount+=6}}}}},t}(i)}.apply(null,i))||(e.exports=n)},1788:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(204),r(215),r(1593),r(1544)],void 0===(n=function(e,t,r,i,n,o,a){return function(e){function t(t,r,i,n,o,a){var s=e.call(this,t,r)||this;if(t.hasDataDrivenFill!==i.isDataDriven())throw new Error("incompatible fill buffer");if(t.hasDataDrivenOutline!==o.isDataDriven())throw new Error("incompatible outline buffer");return s._fillVertexBuffer=i,s._fillIndexBuffer=n,s._outlineVertexBuffer=o,s._outlineIndexBuffer=a,s}return r(t,e),Object.defineProperty(t.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._fillIndexStart=this._fillIndexStart,t._fillIndexCount=this._fillIndexCount,e.layer.getPaintProperty("fill-outline-color")?(t._outlineIndexStart=this._outlineIndexStart,t._outlineIndexCount=this._outlineIndexCount):(t._outlineIndexStart=0,t._outlineIndexCount=0)},t.prototype.processFeatures=function(e,t){this._fillIndexStart=this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=this._outlineIndexBuffer.index,this._outlineIndexCount=0;var r=this.layer,i=this.zoom,n=r.hasDataDrivenFill,o=r.hasDataDrivenOutline;e&&e.setExtent(this.layerExtent);var a=r.getPaintValue("fill-pattern",i),s=r.getPaintValue("fill-antialias",i)&&void 0===a,u=[1,1,1,1],l=[1,1,1,1],f=1;if(r.outlineUsesFillColor){if(s&&!r.hasDataDrivenOpacity){var c=r.getPaintValue("fill-opacity",i),h=r.getPaintValue("fill-opacity",i+1);c<1&&h<1&&(s=!1)}if(s&&!r.hasDataDrivenColor){var d=r.getPaintValue("fill-color",i),x=r.getPaintValue("fill-color",i+1);d[3]<1&&x[3]<1&&(s=!1)}}for(var p=0,y=this._features;p<y.length;p++){var _=y[p];!a&&r.hasDataDrivenColor&&(u=r.getPaintValue("fill-color",i,_)),r.hasDataDrivenOpacity&&(f=r.getPaintValue("fill-opacity",i,_)),!a&&r.hasDataDrivenOutlineColor&&(l=r.getPaintValue("fill-outline-color",i,_));var g=void 0;n&&(g={color:u,opacity:f});var v=void 0;o&&(v={color:r.outlineUsesFillColor?u:l,opacity:f});var m=_.getGeometry(e);this._processFeature(m,s,r.outlineUsesFillColor,g,v)}},t.prototype._processFeature=function(e,r,i,n,o){if(e){var a=e.length;if(r&&(!i||!o||o.color[3]*o.opacity==1))for(var s=0;s<a;s++)this._processOutline(e[s],o);var u;for(s=0;s<a;s++){var l=t._area(e[s]);l>128?(void 0!==u&&this._processFill(e,u,n),u=[s]):l<-128&&void 0!==u&&u.push(s)}void 0!==u&&this._processFill(e,u,n)}},t.prototype._processOutline=function(e,t){var r,i,n,o=this._outlineVertexBuffer,s=this._outlineIndexBuffer,u=s.index,l=new a.Point(0,0),f=new a.Point(0,0),c=new a.Point(0,0),h=-1,d=-1,x=-1,p=-1,y=-1,_=!1,g=e.length;if(!(g<2)){for(var v=e[0],m=e[g-1];g&&m.isEqual(v);)m=e[--g-1];if(!(g-0<2)){for(var I=0;I<g;++I){0===I?(r=e[g-1],i=e[0],n=e[1],l.assignSub(i,r),l.normalize(),l.rightPerpendicular()):(r=i,i=n,n=I!==g-1?e[I+1]:e[0],l.assign(f));var V=this._isClipEdge(r,i);-1===p&&(_=V),f.assignSub(n,i),f.normalize(),f.rightPerpendicular();var B=l.x*f.y-l.y*f.x;c.assignAdd(l,f),c.normalize();var b=-c.x*-l.x+-c.y*-l.y,D=Math.abs(0!==b?1/b:1);D>8&&(D=8),B>=0?(x=o.add(i.x,i.y,l.x,l.y,0,1,t),-1===p&&(p=x),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),d=o.add(i.x,i.y,D*-c.x,D*-c.y,0,-1,t),-1===y&&(y=d),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),h=d,d=x,x=o.add(i.x,i.y,c.x,c.y,0,1,t),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),d=o.add(i.x,i.y,f.x,f.y,0,1,t),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x)):(x=o.add(i.x,i.y,D*c.x,D*c.y,0,1,t),-1===p&&(p=x),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),d=o.add(i.x,i.y,-l.x,-l.y,0,-1,t),-1===y&&(y=d),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),h=d,d=x,x=o.add(i.x,i.y,-c.x,-c.y,0,-1,t),h>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x),(h=o.add(i.x,i.y,-f.x,-f.y,0,-1,t))>=0&&d>=0&&x>=0&&!V&&s.add(h,d,x))}h>=0&&d>=0&&p>=0&&!_&&s.add(h,d,p),h>=0&&p>=0&&y>=0&&!_&&s.add(h,y,p),this._outlineIndexCount+=3*(s.index-u)}}},t.prototype._processFill=function(e,t,r){var o;t.length>1&&(o=[]);for(var a=0,s=0,u=t;s<u.length;s++){var l=u[s];0!==a&&o.push(a),a+=e[l].length}for(var f=2*a,c=i.acquire(),h=0,d=t;h<d.length;h++)for(var x=e[l=d[h]],p=x.length,y=0;y<p;++y)c.push(x[y].x),c.push(x[y].y);var _=n(c,o,2),g=_.length;if(g>0){for(var v=this._fillVertexBuffer.index,m=0;m<f;)this._fillVertexBuffer.add(c[m++],c[m++],r);for(var I=0;I<g;)this._fillIndexBuffer.add(v+_[I++],v+_[I++],v+_[I++]);this._fillIndexCount+=g}i.release(c)},t.prototype._isClipEdge=function(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)},t._area=function(e){for(var t=0,r=e.length-1,i=0;i<r;i++)t+=(e[i].x-e[i+1].x)*(e[i].y+e[i+1].y);return.5*(t+(e[r].x-e[0].x)*(e[r].y+e[0].y))},t}(o)}.apply(null,i))||(e.exports=n)},1789:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(22),r(1525),r(1593),r(598),r(1669),r(1516)],void 0===(n=function(e,t,r,i,n,o,a,s,u){var l=0,f=0,c=0;return i("esri-tiles-performance")&&setInterval(function(){console.log("New (VTL)","feat="+c,"secs="+l,"tris="+f,"tris/sec="+Math.round(f/l))},1e4),function(e){function t(t,r,i,n){var o=e.call(this,t,r)||this;if(o._tessellationOptions={},t.hasDataDrivenLine!==i.isDataDriven())throw new Error("incompatible line buffer");return o._lineVertexBuffer=i,o._lineIndexBuffer=n,o._hasPattern=t.getPaintValue("line-pattern",o.zoom)||t.getPaintValue("line-dasharray",o.zoom),o._isThinLine=t.isThinLine,o._isThinLine?o._tessellationCallbacks={vertex:o._thinVertex.bind(o),bridge:o._thinBridge.bind(o)}:o._tessellationCallbacks={vertex:o._thickVertex.bind(o),bridge:o._thickBridge.bind(o)},o}return r(t,e),Object.defineProperty(t.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._lineIndexStart=this._lineIndexStart,t._lineIndexCount=this._lineIndexCount},t.prototype.processFeatures=function(e,t){this._lineIndexStart=this._lineIndexBuffer.index,this._lineIndexCount=0;var r=this.layer,i=this.zoom,n=r.hasDataDrivenLine;e&&e.setExtent(this.layerExtent);for(var o=[1,1,1,1],s=1,l=1,f=0,c=this._features;f<c.length;f++){var h=c[f],d=new a.LineLayout(r,i,h);!this._hasPattern&&r.hasDataDrivenColor&&(o=r.getPaintValue("line-color",i,h)),r.hasDataDrivenOpacity&&(s=r.getPaintValue("line-opacity",i,h)),r.hasDataDrivenWidth&&(l=r.getPaintValue("line-width",i,h));var x=void 0;if(!(n&&(x={color:o,opacity:s,size:Math.max(Math.min(l,256),0)},x.size<=0||x.opacity<=0||x.color[3]<=0))){this._capType=d.cap,this._joinType=d.join,this._miterLimitCosine=u.getLimitCosine(d.miterLimit),this._roundLimitCosine=u.getLimitCosine(d.roundLimit);var p=h.getGeometry(e);this._processFeature(d,p,x)}}},t.prototype._processFeature=function(e,t,r){if(t)for(var i=t.length,n=0;n<i;n++)this._processGeometry(t[n],e,r)},t.prototype._processGeometry=function(e,t,r){var n;if(i("esri-tiles-performance")&&(n=performance.now()),!(e.length<2)){for(var o,a,u=e[0],h=1;h<e.length;)(o=e[h].x-u.x)*o+(a=e[h].y-u.y)*a<1e-6?e.splice(h,1):(u=e[h],++h);if(!(e.length<2)){var d=this._lineIndexBuffer.index;this._tessellationOptions.trackDistance=this._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableOuterBisectorSplit=this._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableInnerBisectorSplit=this._hasPattern,this._ddValues=r,s.tessellate(e,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this._lineIndexBuffer.index-d),i("esri-tiles-performance")&&(l+=(performance.now()-n)/1e3,f+=this._lineIndexBuffer.index-d,c++)}}},t.prototype._thinVertex=function(e){e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance,this._ddValues),e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance,this._ddValues),e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance,this._ddValues),e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance,this._ddValues)},t.prototype._thinBridge=function(e){this._lineIndexBuffer.add(e.leftExit0,e.rightEntry0,e.leftExit2),this._lineIndexBuffer.add(e.rightEntry0,e.rightEntry2,e.leftExit2)},t.prototype._thickVertex=function(e){var t,r=this._joinType===n.JoinType.MITER?this._miterLimitCosine:this._roundLimitCosine,i=e.isCap&&this._capType!==n.CapType.BUTT,o=!1;if(e.cosine>.97?(e.exit0=e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance,this._ddValues),e.exit2=e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance,this._ddValues)):e.cosine<1-.97?(e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance,this._ddValues),e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance,this._ddValues),e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance,this._ddValues),e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance,this._ddValues)):e.canSplit?(s.splitVertex(),e.sign>0?(e.splitInner?(e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.leftInner.x,e.leftInner.y,0,-1,e.distance,this._ddValues),e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.rightInner.x,e.rightInner.y,0,-1,e.distance,this._ddValues)):(e.exit0=e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance,this._ddValues)),e.cosine<r?(o=!e.isCap,e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance,this._ddValues),e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance,this._ddValues)):e.splitOuter?(o=o||e.gapOuter,e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.leftOuter.x,-e.leftOuter.y,0,1,e.distance,this._ddValues),e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.rightOuter.x,-e.rightOuter.y,0,1,e.distance,this._ddValues)):(e.entry2=e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance,this._ddValues))):(e.splitInner?(e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.leftInner.x,-e.leftInner.y,0,1,e.distance,this._ddValues),e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.rightInner.x,-e.rightInner.y,0,1,e.distance,this._ddValues)):(e.exit2=e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance,this._ddValues)),e.cosine<r?(o=!e.isCap,e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance,this._ddValues),e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance,this._ddValues)):e.splitOuter?(o=o||e.gapOuter,e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.leftOuter.x,e.leftOuter.y,0,-1,e.distance,this._ddValues),e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.rightOuter.x,e.rightOuter.y,0,-1,e.distance,this._ddValues)):(e.exit0=e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance,this._ddValues)))):e.sign>0?(e.exit0=e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance,this._ddValues),e.cosine<r?(o=!e.isCap,e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance,this._ddValues),e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance,this._ddValues)):(e.entry2=e.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance,this._ddValues))):(e.exit2=e.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance,this._ddValues),e.cosine<r?(o=!e.isCap,e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance,this._ddValues),e.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance,this._ddValues)):(e.exit0=e.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance,this._ddValues))),e.canSplit&&(e.splitInner||e.splitOuter)||o||i?(t=e.entry1=e.exit1=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,0,0,0,0,e.distance,this._ddValues)):t=e.entry1=e.exit1=null,o&&this._joinType!==n.JoinType.ROUND)this._lineIndexBuffer.add(t,e.sign>0?e.exit2:e.entry0,e.sign>0?e.entry2:e.exit0);else if(i&&this._capType===n.CapType.ROUND||o&&this._joinType===n.JoinType.ROUND){var a,u=void 0,l=void 0,f=void 0,c=void 0,h=void 0,d=void 0;if(e.isCap)d=(a=Math.PI)/(h=Math.ceil(a/.8)),e.isFirstVertex?(u=e.prevNormal.x,l=e.prevNormal.y,f=e.entry0,c=e.entry2):e.isLastVertex&&(u=-e.nextNormal.x,l=-e.nextNormal.y,f=e.exit2,c=e.exit0);else d=(a=2*Math.acos(e.cosine))/(h=Math.ceil(a/.8)),u=e.sign>0?-e.prevNormal.x:e.nextNormal.x,l=e.sign>0?-e.prevNormal.y:e.nextNormal.y,f=e.sign>0?e.entry2:e.exit0,c=e.sign>0?e.exit2:e.entry0;var x=Math.cos(d),p=Math.sin(d),y=p*u+x*l;u=x*u-p*l,l=y;for(var _=void 0,g=void 0,v=0;v<h;++v){if(_=g,v<h-1)if(e.isCap){var m=e.isFirstVertex?-1:1;g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,u,l,m,0,e.distance,this._ddValues)}else g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,u,l,0,e.sign,e.distance,this._ddValues);this._lineIndexBuffer.add(0===v?f:_,t,v===h-1?c:g);var I=p*u+x*l;u=x*u-p*l,l=I}}else if(i&&this._capType===n.CapType.SQUARE){var V=e.isFirstVertex?1:-1,B=void 0,b=void 0;this._hasPattern?(B=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x-V*e.inbound.x,e.prevNormal.y-V*e.inbound.y,-V,-1,e.distance,this._ddValues),b=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x-V*e.inbound.x,-e.prevNormal.y-V*e.inbound.y,-V,1,e.distance,this._ddValues)):(B=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,e.prevNormal.x-V*e.inbound.x,e.prevNormal.y-V*e.inbound.y,0,-1,e.distance,this._ddValues),b=this._lineVertexBuffer.index,this._lineVertexBuffer.add(e.currentVertex.x,e.currentVertex.y,-e.prevNormal.x-V*e.inbound.x,-e.prevNormal.y-V*e.inbound.y,0,1,e.distance,this._ddValues)),V>0?(this._lineIndexBuffer.add(t,e.entry2,b),this._lineIndexBuffer.add(t,b,B),this._lineIndexBuffer.add(t,B,e.entry0)):(this._lineIndexBuffer.add(t,b,e.exit2),this._lineIndexBuffer.add(t,B,b),this._lineIndexBuffer.add(t,e.exit0,B))}},t.prototype._thickBridge=function(e){this._lineIndexBuffer.add(e.leftExit0,e.rightEntry0,null!=e.leftExit1?e.leftExit1:e.leftExit2),this._lineIndexBuffer.add(e.rightEntry0,null!=e.rightEntry1?e.rightEntry1:e.rightEntry2,null!=e.leftExit1?e.leftExit1:e.leftExit2),null!=e.leftExit1&&null!=e.rightEntry1?(this._lineIndexBuffer.add(e.leftExit1,e.rightEntry1,e.leftExit2),this._lineIndexBuffer.add(e.rightEntry1,e.rightEntry2,e.leftExit2)):null!=e.leftExit1?this._lineIndexBuffer.add(e.leftExit1,e.rightEntry2,e.leftExit2):null!=e.rightEntry1&&this._lineIndexBuffer.add(e.rightEntry1,e.rightEntry2,e.leftExit2)},t}(o)}.apply(null,i))||(e.exports=n)},1790:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(2323),r(554),r(1544)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t,r,i,n){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===n&&(n=l),this.x=e,this.y=t,this.angle=r,this.segment=i,this.minzoom=n}}();t.Anchor=o;var a=function(){return function(e,t,r,n,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=l),void 0===s&&(s=i.C_INFINITY),this.anchor=e,this.labelAngle=t,this.glyphAngle=r,this.page=n,this.upsideDown=o,this.minzoom=a,this.maxzoom=s}}(),s=function(){return function(e,t,r,i,n,o,a,s,u,l){this.tl=e,this.tr=t,this.bl=r,this.br=i,this.mosaicRect=n,this.labelAngle=o,this.anchor=a,this.minzoom=s,this.maxzoom=u,this.page=l}}();t.PlacedSymbol=s;var u=function(){return function(e,t){this.footprint=e,this.shapes=t}}();t.Placement=u;var l=.5,f=function(){function e(){this.mapAngle=0,this._conflictEngine=new r.ConflictEngine}return e.prototype.reset=function(){this._conflictEngine.reset()},e.prototype.setAngle=function(e){this.mapAngle=e,this._conflictEngine.setAngle(e)},e.prototype.getIconPlacement=function(e,t,o,a,f,c,h){var d=o.width/o.pixelRatio,x=o.height/o.pixelRatio,p=c.offset[0]-d/2,y=c.offset[1]-x/2,_=p+d,g=y+x,v=o.rect,m=o.sdf?17:2,I=p-m,V=y-m,B=I+v.width/o.pixelRatio,b=V+v.height/o.pixelRatio,D=new n.Point(I,V),w=new n.Point(B,b),T=new n.Point(I,b),E=new n.Point(B,V),k=c.rotate*i.C_DEG_TO_RAD,M=1===c.rotationAlignment;if(e.segment>=0&&!M&&(k+=e.angle),0!==k){var P=Math.cos(k),C=Math.sin(k);D.rotate(P,C),w.rotate(P,C),T.rotate(P,C),E.rotate(P,C)}var z=8*c.padding,S=new n.Point(e.x,e.y),N=new r.Footprint(this.mapAngle,z,M);N.addBox(S,new r.Box(p,y,_,g),a,k,t,l,i.C_INFINITY);var A=new s(D,E,T,w,v,0,S,l,i.C_INFINITY,0),L=new u(N,[A]),O=l;return c.allowOverlap||(O=this._conflictEngine.getMinZoom(L.footprint,O,h,M)),N.minzoom=O,L},e.prototype.getTextPlacement=function(e,t,o,f,c,h,d,x){for(var p,y=new n.Point(e.x,e.y),_=d.rotate*i.C_DEG_TO_RAD,g=0===d.rotationAlignment,v=d.keepUpright,m=l,I=!g,V=I?0:e.angle,B=e.segment>=0&&g,b=8*d.padding,D=new r.Footprint(this.mapAngle,b,I),w=[],T=!B,E=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,M=E,P=k,C=B?v:g&&v,z=0,S=f;z<S.length;z++){var N=S[z],A=N.glyphMosaicItem;if(A&&!A.rect.isEmpty){var L=A.rect,O=A.metrics,F=A.page;T&&(p&&p!==N.y&&(D.addBox(y,new r.Box(E,M,k,P),c,_,t,l,i.C_INFINITY),M=E=Number.POSITIVE_INFINITY,P=k=Number.NEGATIVE_INFINITY),p=N.y);var j=[];if(B){var R=.5*A.metrics.width,U=(o.x+N.x+O.left-4+R)*c;if(m=this._placeGlyph(e,m,U,h,e.segment,1,F,j),v&&(m=this._placeGlyph(e,m,U,h,e.segment,-1,F,j)),m>=2)break}else j.push(new a(y,V,V,F)),g&&v&&j.push(new a(y,V+i.C_PI,V+i.C_PI,F,!0));for(var G=N.x+o.x+O.left,Y=N.y+o.y-O.top,K=G+O.width,Z=Y+O.height,H=new n.Point(G-4,Y-4),q=new n.Point(H.x+L.width,H.y+L.height),W=new n.Point(H.x,q.y),J=new n.Point(q.x,H.y),X=0,Q=j;X<Q.length;X++){var $=Q[X],ee=H.clone(),te=W.clone(),re=J.clone(),ie=q.clone(),ne=Y,oe=Z,ae=$.glyphAngle+_;if(0!==ae){var se=Math.cos(ae),ue=Math.sin(ae);ee.rotate(se,ue),ie.rotate(se,ue),te.rotate(se,ue),re.rotate(se,ue)}w.push(new s(ee,re,te,ie,L,$.labelAngle,$.anchor,$.minzoom,$.maxzoom,$.page)),C&&!this._legible($.labelAngle)||(T?(G<E&&(E=G),ne<M&&(M=ne),K>k&&(k=K),oe>P&&(P=oe)):$.minzoom<2&&D.addBox($.anchor,new r.Box(G,ne,K,oe),c,ae,t,$.minzoom,$.maxzoom))}}}if(m>=2)return null;T&&D.addBox(y,new r.Box(E,M,k,P),c,_,t,l,i.C_INFINITY);var le=new u(D,w);return d.allowOverlap||(m=this._conflictEngine.getMinZoom(le.footprint,m,x,I)),D.minzoom=m,le},e.prototype.add=function(e){this._conflictEngine.add(e.footprint)},e.prototype._legible=function(e){var t=i.radToByte(e);return t<65||t>=193},e.prototype._placeGlyph=function(e,t,r,o,s,u,l,f){var c=u,h=c<0?i.positiveMod(e.angle+i.C_PI,i.C_2PI):e.angle,d=this._legible(h),x=0;r<0&&(c*=-1,r*=-1,x=i.C_PI),c>0&&++s;var p=new n.Point(e.x,e.y),y=o[s],_=i.C_INFINITY;if(o.length<=s)return _;for(;;){var g=y.x-p.x,v=y.y-p.y,m=Math.sqrt(g*g+v*v),I=Math.max(r/m,t),V=g/m,B=v/m,b=i.positiveMod(Math.atan2(B,V)+x,i.C_2PI);if(f.push(new a(p,h,b,l,d,I,_)),I<=t)return I;p=y.clone();do{if(s+=c,o.length<=s||s<0)return I;y=o[s]}while(p.isEqual(y));var D=y.x-p.x,w=y.y-p.y,T=Math.sqrt(D*D+w*w);D*=m/T,w*=m/T,p.x-=D,p.y-=w,_=I}},e}();t.PlacementEngine=f}.apply(null,i))||(e.exports=n)},1791:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(1762),r(1593),r(554),r(1790),r(598),r(1544),r(1666)],void 0===(n=function(e,t,r,i,n,o,a,s,u,l){function f(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page<t.iconMosaicItem.page?-1:1:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}return function(e){function t(t,r,i,n,o,a,s,u){var l=e.call(this,t,r)||this;if(l._markerMap=new Map,l._glyphMap=new Map,l._glyphBufferDataStorage=new Map,l._sdfMarkers=!1,t.hasDataDrivenIcon!==i.isDataDriven())throw new Error("incompatible icon buffer");if(t.hasDataDrivenText!==o.isDataDriven())throw new Error("incompatible text buffer");return l._iconVertexBuffer=i,l._iconIndexBuffer=n,l._textVertexBuffer=o,l._textIndexBuffer=a,l._placementEngine=s,l._workerTileHandler=u,l}return r(t,e),Object.defineProperty(t.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0}),t.prototype.copy=function(e,r,i,n,o){var a=new t(this.layer,this.zoom,e,r,i,n,o,this._workerTileHandler);return a.layerIndex=this.layerIndex,a.layerExtent=this.layerExtent,a._iconIndexStart=r.index,a._textIndexStart=n.index,a._iconIndexCount=0,a._textIndexCount=0,a._symbolInstances=this._symbolInstances,a._workerTileHandler=this._workerTileHandler,a._fontArray=this._fontArray,a._textLayout=this._textLayout,a._iconLayout=this._iconLayout,a._isLinePlacement=this._isLinePlacement,a._avoidEdges=this._avoidEdges,a},t.prototype.getResources=function(e,r,i){var n=this.layer,o=this.zoom,a=n.hasDataDrivenIcon,s=n.hasDataDrivenText;e&&e.setExtent(this.layerExtent);for(var u=n.getLayoutProperty("icon-image"),l=n.getLayoutProperty("text-field"),f=n.getLayoutValue("text-font",o),c=n.getLayoutValue("text-transform",o),h=[],d=[1,1,1,1],x=1,p=1,y=[1,1,1,1],_=1,g=1,v=0,m=this._features;v<m.length;v++){var I=m[v],V=I.getGeometry(e);if(V&&0!==V.length){var B=void 0;u&&(B=n.getLayoutValue("icon-image",o,I),u.isDataDriven||(B=this._replaceKeys(B,I.values)),B&&r.add(B));var b=void 0,D=!1;if(l&&(b=n.getLayoutValue("text-field",o,I),l.isDataDriven||(b=this._replaceKeys(b,I.values)),b=b.replace(/\\n/g,"\n"))){switch(c){case 2:b=b.toLowerCase();break;case 1:b=b.toUpperCase()}if(t._bidiEngine.hasBidiChar(b)){var w;w="rtl"===t._bidiEngine.checkContextual(b)?"IDNNN":"ICNNN",b=t._bidiEngine.bidiTransform(b,w,"VLYSN"),D=!0}var T=b.length;if(T>0)for(var E=0,k=f;E<k.length;E++){var M=k[E],P=i[M];P||(P=i[M]=new Set);for(var C=0;C<T;C++){var z=b.charCodeAt(C);P.add(z)}}}if(B||b){var S=n.getLayoutValue("icon-size",o,I),N=n.getLayoutValue("text-size",o,I);n.hasDataDrivenIconColor&&(d=n.getPaintValue("icon-color",o,I)),n.hasDataDrivenIconOpacity&&(x=n.getPaintValue("icon-opacity",o,I)),n.hasDataDrivenIconSize&&(p=S),n.hasDataDrivenTextColor&&(y=n.getPaintValue("text-color",o,I)),n.hasDataDrivenTextOpacity&&(_=n.getPaintValue("text-opacity",o,I)),n.hasDataDrivenTextSize&&(g=N);var A={sprite:B,label:b,rtl:D,type:I.type,geometry:V,iconSize:S,iconRotate:n.getLayoutValue("icon-rotate",o,I),ddIconValues:a?{color:d,opacity:x,size:p}:null,textSize:N,textRotate:n.getLayoutValue("text-rotate",o,I),ddTextValues:s?{color:y,opacity:_,size:g}:null};h.push(A)}}}this._symbolFeatures=h},t.prototype.processFeatures=function(e,r){e&&e.setExtent(this.layerExtent);var i,n,u,c,h,d=this.layer,x=this.zoom,p=this._isLinePlacement=1===d.getLayoutValue("symbol-placement",x),y=this._avoidEdges=d.getLayoutValue("symbol-avoid-edges",x)&&!p,_=8*d.getLayoutValue("symbol-spacing",x),g=d.getLayoutProperty("icon-image"),v=d.getLayoutProperty("text-field"),m=this._workerTileHandler;if(g&&(this._iconLayout=new s.IconLayout(d,x,p),i=m.getSpriteItems(),n=this._getTranslate(!0)),v){var I=this._textLayout=new s.TextLayout(d,x,p);this._fontArray=I.fontArray;var V=.5;switch(I.anchor){case 5:case 1:case 7:V=0;break;case 6:case 2:case 8:V=1}var B=.5;switch(I.anchor){case 5:case 3:case 6:B=0;break;case 7:case 4:case 8:B=1}var b=.5;switch(I.justify){case 0:b=0;break;case 2:b=1}var D=24*I.letterSpacing,w=p?0:24*I.maxWidth,T=24*I.lineHeight,E=[24*I.offset[0],24*I.offset[1]];u=this._fontArray.map(function(e){return m.getGlyphItems(e)}),c=new l.TextShaping(u,w,T,D,E,V,B,b),h=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var k=[];this._symbolInstances=k;var M=this._textLayout,P=1;M&&M.size&&(P=M.size/24);for(var C=M?M.maxAngle*o.C_DEG_TO_RAD:0,z=M?8*M.size:0,S=0,N=this._symbolFeatures;S<N.length;S++){var A=N[S],L=void 0;A.sprite&&(L=i[A.sprite])&&L.sdf&&(this._sdfMarkers=!0);var O=void 0,F=A.label,j=0;if(F&&(O=c.getShaping(F,A.rtl))&&O.length>0){for(var R=1e30,U=-1e30,G=0,Y=O;G<Y.length;G++){var K=Y[G];R=Math.min(R,K.x),U=Math.max(U,K.x)}j=(U-R+48)*P*8}for(var Z=0,H=A.geometry;Z<H.length;Z++){var q=H[Z],W=void 0;if(p){if(O&&O.length>0&&M&&M.size){var J=8*M.size*(2+Math.min(2,4*Math.abs(M.offset[1])));t._smoothVertices(q,J)}W=t._findAnchors(q,_,j)}else W=3===A.type?t._findCentroid(q):[new a.Anchor(q[0].x,q[0].y)];for(var X=0,Q=W;X<Q.length;X++){var $=Q[X];$.x<0||$.x>4096||$.y<0||$.y>4096||p&&j>0&&0===M.rotationAlignment&&!t._honorsTextMaxAngle(q,$,j,C,z)||k.push({shaping:O,line:q,iconMosaicItem:L,anchor:$,iconSize:A.iconSize,iconRotate:A.iconRotate,ddIconValues:A.ddIconValues,textSize:A.textSize,textRotate:A.textRotate,ddTextValues:A.ddTextValues})}}}k.sort(f);for(var ee=0,te=k;ee<te.length;ee++){var re=te[ee];this._processFeature(re,n,h,y)}this._addPlacedGlyphs()},t.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var e,t,r=this._avoidEdges,i=this.layer;i.getLayoutProperty("icon-image")&&(e=this._getTranslate(!0)),i.getLayoutProperty("text-field")&&(t=this._getTranslate(!1));for(var n=0,o=this._symbolInstances;n<o.length;n++){var a=o[n];this._processFeature(a,e,t,r)}this._addPlacedGlyphs()},t.prototype._getTranslate=function(e){var t=this.layer.getPaintValue(e?"icon-translate":"text-translate",this.zoom);if(0!==t[0]||0!==t[1]){var r=this._placementEngine.mapAngle;if(0!==r&&0===this.layer.getPaintValue(e?"icon-translate-anchor":"text-translate-anchor",this.zoom)){var i=Math.sin(r),n=Math.cos(r);return[8*(t[0]*n-t[1]*i),8*(t[0]*i+t[1]*n)]}return[8*t[0],8*t[1]]}},t.prototype._replaceKeys=function(e,t){return e.replace(/{([^{}]+)}/g,function(e,r){return r in t?t[r]:""})},t.prototype._processFeature=function(e,t,r,i){var n=e.line,a=e.iconMosaicItem,s=e.shaping,l=e.anchor,f=this._iconLayout,c=f&&!!a,h=!0,d=1;c&&(f.size=e.iconSize,f.rotate=e.iconRotate,d=8*f.size,h=f.optional||!a);var x=this._textLayout,p=x&&s&&s.length>0,y=1,_=y,g=!0;p&&(x.size=e.textSize,x.rotate=e.textRotate,_=8*(y=x.size/24),g=x.optional||!s||0===s.length);var v,m,I=new u.Point(0,-17);if((c&&(v=this._placementEngine.getIconPlacement(l,t,a,d,n,f,i),l.minzoom>v.footprint.minzoom&&(v.footprint.minzoom=l.minzoom),v.footprint.minzoom===o.C_INFINITY&&(v=null)),v||h)&&(p&&(m=this._placementEngine.getTextPlacement(l,r,I,s,_,n,x,i))&&(l.minzoom>m.footprint.minzoom&&(m.footprint.minzoom=l.minzoom),m.footprint.minzoom===o.C_INFINITY&&(m=null)),m||g)){if(v&&m||(g||h?g||m?h||v||(m=null):v=null:(v=null,m=null)),v&&m&&!g&&!h){var V=Math.max(v.footprint.minzoom,m.footprint.minzoom);v.footprint.minzoom=V,m.footprint.minzoom=V}m&&(x.ignorePlacement||this._placementEngine.add(m),this._storePlacedGlyphs(m.shapes,m.footprint.minzoom,this.zoom,e.ddTextValues)),v&&(f.ignorePlacement||this._placementEngine.add(v),this._addPlacedIcons(v.shapes,v.footprint.minzoom,this.zoom,a.page,e.ddIconValues))}},t.prototype._addPlacedIcons=function(e,t,r,i,n){for(var a=Math.max(r+o.log2(t),0),s=this._iconVertexBuffer,u=this._iconIndexBuffer,l=0,f=e;l<f.length;l++){var c=f[l],h=Math.max(r+o.log2(c.minzoom),a),d=Math.min(r+o.log2(c.maxzoom),25);if(!(d<=h)){var x=c.tl,p=c.tr,y=c.bl,_=c.br,g=c.mosaicRect,v=c.labelAngle,m=c.anchor,I=s.index,V=g.x,B=g.y,b=V+g.width,D=B+g.height;s.add(m.x,m.y,x.x,x.y,V,B,v,h,d,a,n),s.add(m.x,m.y,p.x,p.y,b,B,v,h,d,a,n),s.add(m.x,m.y,y.x,y.y,V,D,v,h,d,a,n),s.add(m.x,m.y,_.x,_.y,b,D,v,h,d,a,n),u.add(I+0,I+1,I+2),u.add(I+1,I+2,I+3),this._markerMap.has(i)?this._markerMap.get(i)[1]+=6:this._markerMap.set(i,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=2}}},t.prototype._addPlacedGlyphs=function(){var e=this,t=this._textVertexBuffer,r=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(i,n){for(var o=0,a=i;o<a.length;o++){var s=a[o],u=t.index;t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tl[0],s.tl[1],s.xmin,s.ymin,s.labelAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tr[0],s.tr[1],s.xmax,s.ymin,s.labelAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.bl[0],s.bl[1],s.xmin,s.ymax,s.labelAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.br[0],s.br[1],s.xmax,s.ymax,s.labelAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),r.add(u+0,u+1,u+2),r.add(u+1,u+2,u+3),e._glyphMap.has(n)?e._glyphMap.get(n)[1]+=6:e._glyphMap.set(n,[e._textIndexStart+e._textIndexCount,6]),e._textIndexCount+=2}}),this._glyphBufferDataStorage.clear()},t.prototype._storePlacedGlyphs=function(e,t,r,i){for(var n=Math.max(r+o.log2(t),0),a=0,s=e;a<s.length;a++){var u=s[a],l=Math.max(r+o.log2(u.minzoom),n),f=Math.min(r+o.log2(u.maxzoom),25);if(!(f<=l)){var c=u.tl,h=u.tr,d=u.bl,x=u.br,p=u.labelAngle,y=u.anchor,_=u.mosaicRect;this._glyphBufferDataStorage.has(u.page)||this._glyphBufferDataStorage.set(u.page,[]),this._glyphBufferDataStorage.get(u.page).push({glyphAnchor:[y.x,y.y],tl:[c.x,c.y],tr:[h.x,h.y],bl:[d.x,d.y],br:[x.x,x.y],xmin:_.x,ymin:_.y,xmax:_.x+_.width,ymax:_.y+_.height,labelAngle:p,minLod:l,maxLod:f,placementLod:n,ddValues:i})}}},t._findAnchors=function(e,t,r){t+=r;for(var i=0,n=e.length-1,s=0;s<n;s++)i+=u.Point.distance(e[s],e[s+1]);var l=r||t;if(i<=(l*=.5))return[];var f=l/i,c=0,h=-(t=i/Math.max(Math.round(i/t),1))/2,d=[],x=e.length-1;for(s=0;s<x;s++){for(var p=e[s],y=e[s+1],_=y.x-p.x,g=y.y-p.y,v=Math.sqrt(_*_+g*g),m=void 0;h+t<c+v;){var I=((h+=t)-c)/v,V=o.interpolate(p.x,y.x,I),B=o.interpolate(p.y,y.y,I);void 0===m&&(m=Math.atan2(g,_)),d.push(new a.Anchor(V,B,m,s,f))}c+=v}return d},t._deviation=function(e,t,r){var i=(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y),n=(t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x);return Math.atan2(n,i)},t._honorsTextMaxAngle=function(e,t,r,i,n){for(var o=0,a=r/2,s=new u.Point(t.x,t.y),l=t.segment+1;o>-a;){if(--l<0)return!1;o-=u.Point.distance(e[l],s),s=e[l]}o+=u.Point.distance(e[l],e[l+1]);for(var f=[],c=0,h=e.length;o<a;){var d=e[l],x=l,p=void 0;do{if(++x===h)return!1;p=e[x]}while(p.isEqual(d));var y=x,_=void 0;do{if(++y===h)return!1;_=e[y]}while(_.isEqual(p));var g=this._deviation(d,p,_);for(f.push({deviation:g,distToAnchor:o}),c+=g;o-f[0].distToAnchor>n;)c-=f.shift().deviation;if(Math.abs(c)>i)return!1;o+=u.Point.distance(p,_),l=x}return!0},t._smoothVertices=function(e,t){if(!(t<=0)){var r=e.length;if(!(r<3)){var i=[],n=0;i.push(0);for(var o=1;o<r;o++)n+=u.Point.distance(e[o],e[o-1]),i.push(n);t=Math.min(t,.2*n);var a=[];a.push(e[0].x),a.push(e[0].y);var s=e[r-1].x,l=e[r-1].y,f=u.Point.sub(e[0],e[1]);f.normalize(),e[0].x+=t*f.x,e[0].y+=t*f.y,f.assignSub(e[r-1],e[r-2]),f.normalize(),e[r-1].x+=t*f.x,e[r-1].y+=t*f.y;for(o=1;o<r;o++)i[o]+=t;i[r-1]+=t;var c=.5*t;for(o=1;o<r-1;o++){for(var h=0,d=0,x=0,p=o-1;p>=0&&!(i[p+1]<i[o]-c);p--){var y=c+i[p+1]-i[o],_=i[p+1]-i[p],g=i[o]-i[p]<c?1:y/_;if(Math.abs(g)<1e-6)break;var v=g*y-.5*(b=g*g)*_,m=g*_/t,I=e[p+1],V=e[p].x-I.x,B=e[p].y-I.y;h+=m/v*(I.x*g*y+.5*b*(y*V-_*I.x)-b*g*_*V/3),d+=m/v*(I.y*g*y+.5*b*(y*B-_*I.y)-b*g*_*B/3),x+=m}for(p=o+1;p<r&&!(i[p-1]>i[o]+c);p++){y=c-i[p-1]+i[o],_=i[p]-i[p-1],g=i[p]-i[o]<c?1:y/_;if(Math.abs(g)<1e-6)break;var b;v=g*y-.5*(b=g*g)*_,m=g*_/t,I=e[p-1],V=e[p].x-I.x,B=e[p].y-I.y;h+=m/v*(I.x*g*y+.5*b*(y*V-_*I.x)-b*g*_*V/3),d+=m/v*(I.y*g*y+.5*b*(y*B-_*I.y)-b*g*_*B/3),x+=m}a.push(h/x),a.push(d/x)}a.push(s),a.push(l);for(o=0,p=0;o<r;o++)e[o].x=a[p++],e[o].y=a[p++]}}},t._findCentroid=function(e){var t=e.length-1,r=0,i=0,n=0,o=e[0].x,s=e[0].y;o>4096&&(o=4096),o<0&&(o=0),s>4096&&(s=4096),s<0&&(s=0);for(var u=1;u<t;u++){var l=e[u].x,f=e[u].y,c=e[u+1].x,h=e[u+1].y;l>4096&&(l=4096),l<0&&(l=0),f>4096&&(f=4096),f<0&&(f=0),c>4096&&(c=4096),c<0&&(c=0),h>4096&&(h=4096),h<0&&(h=0);var d=(l-o)*(h-s)-(c-o)*(f-s);r+=d*(o+l+c),i+=d*(s+f+h),n+=d}return r/=3*n,i/=3*n,isNaN(r)||isNaN(i)?[]:[new a.Anchor(r,i)]},t._bidiEngine=new i,t}(n)}.apply(null,i))||(e.exports=n)},2320:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(12),r(52),r(2321),r(14),r(85),r(8),r(1786),r(1787),r(1788),r(554),r(2322),r(1789),r(1790),r(1791),r(2324),r(2327),r(1700)],void 0===(n=function(e,t,r,i,n,o,a,s,u,l,f,c,h,d,x,p,y,_,g,v){return function(){function e(){this.rotation=0,this.status=v.TileStatus.INITIALIZED,this._symbolBuckets=[],this.placementEngine=new p.PlacementEngine,this.fillVertexBuffer=new g.FillVertexBuffer(!1),this.fillDDVertexBuffer=new g.FillVertexBuffer(!0),this.fillIndexBuffer=new d.TriangleIndexBuffer,this.outlineVertexBuffer=new g.OutlineVertexBuffer(!1),this.outlineDDVertexBuffer=new g.OutlineVertexBuffer(!0),this.outlineIndexBuffer=new d.TriangleIndexBuffer,this.lineVertexBuffer=new g.LineVertexBuffer(!1),this.lineDDVertexBuffer=new g.LineVertexBuffer(!0),this.lineIndexBuffer=new d.TriangleIndexBuffer,this.iconVertexBuffer=new g.SymbolVertexBuffer(!1),this.iconDDVertexBuffer=new g.SymbolVertexBuffer(!0),this.iconIndexBuffer=new d.TriangleIndexBuffer,this.textVertexBuffer=new g.SymbolVertexBuffer(!1),this.textDDVertexBuffer=new g.SymbolVertexBuffer(!0),this.textIndexBuffer=new d.TriangleIndexBuffer,this.circleVertexBuffer=new g.CircleVertexBuffer,this.circleIndexBuffer=new d.TriangleIndexBuffer}return e.prototype.initialize=function(e,t,r,i){void 0===i&&(i=0),this.tileKey=e,this.refKeys=t,this._workerTileHandler=r,this.rotation=i,this.placementEngine.setAngle(h.C_DEG_TO_RAD*i)},e.prototype.release=function(){this.tileKey="",this.refKeys=null,this.status=v.TileStatus.INITIALIZED,this.rotation=0,this.resetData(),this._workerTileHandler=null},e.prototype.resetData=function(){this.fillVertexBuffer.reset(),this.fillDDVertexBuffer.reset(),this.fillIndexBuffer.reset(),this.outlineVertexBuffer.reset(),this.outlineDDVertexBuffer.reset(),this.outlineIndexBuffer.reset(),this.lineVertexBuffer.reset(),this.lineDDVertexBuffer.reset(),this.lineIndexBuffer.reset(),this.iconVertexBuffer.reset(),this.iconDDVertexBuffer.reset(),this.iconIndexBuffer.reset(),this.textVertexBuffer.reset(),this.textDDVertexBuffer.reset(),this.textIndexBuffer.reset(),this.circleVertexBuffer.reset(),this.circleIndexBuffer.reset(),this.placementEngine.reset(),this._symbolBuckets.length=0},e.prototype.reparse=function(e){return this.resetData(),this.setDataAndParse(this._data,e)},e.prototype.setDataAndParse=function(e,t){var r=this,i=t&&t.signal;if(a.isSome(i)){var o=function(){i.removeEventListener("abort",o),r.status=v.TileStatus.INVALID};i.addEventListener("abort",o)}return this._data=e,n.safeCast(this._parse(e,t)).then(function(e){r.status=v.TileStatus.READY;for(var t=[1,r.fillVertexBuffer.sizeInBytes,2,r.fillDDVertexBuffer.sizeInBytes,3,r.fillIndexBuffer.sizeInBytes,4,r.outlineVertexBuffer.sizeInBytes,5,r.outlineDDVertexBuffer.sizeInBytes,6,r.outlineIndexBuffer.sizeInBytes,7,r.lineVertexBuffer.sizeInBytes,8,r.lineDDVertexBuffer.sizeInBytes,9,r.lineIndexBuffer.sizeInBytes,10,r.iconVertexBuffer.sizeInBytes,11,r.iconDDVertexBuffer.sizeInBytes,12,r.iconIndexBuffer.sizeInBytes,13,r.textVertexBuffer.sizeInBytes,14,r.textDDVertexBuffer.sizeInBytes,15,r.textIndexBuffer.sizeInBytes,16,r.circleVertexBuffer.sizeInBytes,17,r.circleIndexBuffer.sizeInBytes],i=new Uint32Array(t),n=[],o=e.length,a=0;a<o;a++){var s=e[a];if(s instanceof c)n.push(s.layerIndex),n.push(1),n.push(s.fillIndexStart),n.push(s.fillIndexCount),n.push(s.outlineIndexStart),n.push(s.outlineIndexCount);else if(s instanceof x)n.push(s.layerIndex),n.push(2),n.push(s.lineIndexStart),n.push(s.lineIndexCount);else if(s instanceof y){n.push(s.layerIndex),n.push(3),n.push(s.sdfMarker?1:0);var u=s.markerPageMap;n.push(u.size),u.forEach(function(e,t){n.push(t),n.push(e[0]),n.push(e[1])});var h=s.glyphsPageMap;n.push(h.size),h.forEach(function(e,t){n.push(t),n.push(e[0]),n.push(e[1])})}else s instanceof f?(n.push(s.layerIndex),n.push(4),n.push(s.circleIndexStart),n.push(s.circleIndexCount)):s instanceof l&&(n.push(s.layerIndex),n.push(0))}var d=new Uint32Array(n),p=r.fillVertexBuffer.toBuffer(),_=r.fillDDVertexBuffer.toBuffer(),g=r.fillIndexBuffer.toBuffer(),m=r.outlineVertexBuffer.toBuffer(),I=r.outlineDDVertexBuffer.toBuffer(),V=r.outlineIndexBuffer.toBuffer(),B=r.lineVertexBuffer.toBuffer(),b=r.lineDDVertexBuffer.toBuffer(),D=r.lineIndexBuffer.toBuffer(),w=r.iconVertexBuffer.toBuffer(),T=r.iconDDVertexBuffer.toBuffer(),E=r.iconIndexBuffer.toBuffer(),k=r.textVertexBuffer.toBuffer(),M=r.textDDVertexBuffer.toBuffer(),P=r.textIndexBuffer.toBuffer(),C=r.circleVertexBuffer.toBuffer(),z=r.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:i.buffer,bucketDataInfo:d.buffer,bufferData:[p,_,g,m,I,V,B,b,D,w,T,E,k,M,P,C,z]},transferList:[p,_,g,m,I,V,B,b,D,w,T,E,k,M,P,C,z,i.buffer,d.buffer]}})},e.prototype.addBucket=function(e){this._symbolBuckets.push(e)},e.prototype.updateSymbols=function(e){var t=this,r=this._symbolBuckets;if(!r||0===r.length)return u.resolve();this.rotation=e;var i=this.placementEngine;i.reset(),i.setAngle(e/256*360*h.C_DEG_TO_RAD);var n=this.iconVertexBuffer;n.reset();var a=this.iconDDVertexBuffer;a.reset();var s=this.iconIndexBuffer;s.reset();var l=this.textVertexBuffer;l.reset();var f=this.textDDVertexBuffer;f.reset();var c=this.textIndexBuffer;c.reset();var d=[],x=r.length,p=0;return o(function(){if(t.status===v.TileStatus.INVALID||t.status===v.TileStatus.INITIALIZED)return!0;if(p<x){var e=r[p++];if(e&&e.layer){var o=e.layer,u=e.copy(o.hasDataDrivenIcon?a:n,s,o.hasDataDrivenText?f:l,c,i);u&&(d.push(u),u.updateSymbols())}}return p>=x}).then(function(){if(t.status===v.TileStatus.INVALID||t.status===v.TileStatus.INITIALIZED||0===n.sizeInBytes&&0===a.sizeInBytes&&0===s.sizeInBytes&&0===l.sizeInBytes&&0===f.sizeInBytes&&0===c.sizeInBytes)return{result:null,transferList:null};var e=[10,n.sizeInBytes,11,a.sizeInBytes,12,s.sizeInBytes,13,l.sizeInBytes,14,f.sizeInBytes,15,c.sizeInBytes],r=new Uint32Array(e),i=[];x=d.length;for(var o=0;o<x;o++){var u=d[o];i.push(u.layerIndex),i.push(3),i.push(u.sdfMarker?1:0);var h=u.markerPageMap;i.push(h.size),h.forEach(function(e,t){i.push(t),i.push(e[0]),i.push(e[1])});var p=u.glyphsPageMap;i.push(p.size),p.forEach(function(e,t){i.push(t),i.push(e[0]),i.push(e[1])})}var y=new Uint32Array(i),_=n.toBuffer(),g=a.toBuffer(),m=s.toBuffer(),I=l.toBuffer(),V=f.toBuffer(),B=c.toBuffer();return{result:{bufferDataInfo:r.buffer,bucketDataInfo:y.buffer,bufferData:[_,g,m,I,V,B]},transferList:[_,g,m,I,V,B,r.buffer,y.buffer]}}).catch(function(){return null})},e.prototype.setObsolete=function(){this.status=v.TileStatus.INVALID},e.prototype.getLayers=function(){return this._workerTileHandler.getLayers()},e.prototype.getWorkerTileHandler=function(){return this._workerTileHandler},e.prototype._parse=function(e,t){return i(this,void 0,void 0,function(){return r(this,function(r){return 0===Object.keys(e).length?[2,[]]:(this.status=v.TileStatus.MODIFIED,[2,new _(e,this,t.client).parse(t)])})})},e.pool=new s(e),e}()}.apply(null,i))||(e.exports=n)},2321:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(22),r(269),r(121),r(8)],void 0===(n=function(e,t,r,i,n,o){function a(){var e=0===u.length;if(!e){for(var t=n();!e&&n()-t<s;){var r=u[f];if(r){if(!0===r()){var o=l.get(r);u[f]=null,l.delete(r),o()}f=(f+1)%u.length}else u.splice(f,1),(e=0===u.length)?f=0:f%=u.length}e||i(a)}}var s=r("host-browser")?6:200,u=[],l=new Map,f=0;return function(e){return e?o.create(function(t){u.push(e),l.set(e,t),1===u.length&&i(a)},function(){u[u.indexOf(e)]=null,l.delete(e)}):o.reject(new TypeError("callback is not a function"))}}.apply(null,i))||(e.exports=n)},2322:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(1638)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return e.call(this,12)||this}return r(t,e),t.prototype.add=function(e,t,r){var i=this.array;i.push(e),i.push(t),i.push(r)},t}(i);t.TriangleIndexBuffer=n;var o=function(e){function t(){return e.call(this,4)||this}return r(t,e),t.prototype.add=function(e){this.array.push(e)},t}(i);t.PointElementMemoryBuffer=o}.apply(null,i))||(e.exports=n)},2323:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(24),r(554),r(1544)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,r,i){this.left=e,this.top=t,this.right=r,this.bottom=i}return e.prototype.clone=function(){return new e(this.left,this.top,this.right,this.bottom)},e.prototype.move=function(e,t){this.left+=e,this.top+=t,this.right+=e,this.bottom+=t},e.prototype.rotate=function(e,t){var r=this.left,i=this.right,n=this.top,o=this.bottom,a=r*e-n*t,s=r*t+n*e,u=i*e-n*t,l=i*t+n*e,f=r*e-o*t,c=r*t+o*e,h=i*e-o*t,d=i*t+o*e;this.left=Math.min(a,u,f,h),this.top=Math.min(s,l,c,d),this.right=Math.max(a,u,f,h),this.bottom=Math.max(s,l,c,d)},e.overlaps=function(e,t){return e.right>t.left&&e.left<t.right&&e.bottom>t.top&&e.top<t.bottom},e}();t.Box=o;var a=function(){function e(e,t,r,i){this.anchor=e,this.corners=t,this.minzoom=r,this.maxzoom=i}return e.prototype.left=function(){return this.corners[0].x},e.prototype.right=function(){return this.corners[2].x},e.prototype.top=function(){return this.corners[1].y},e.prototype.bottom=function(){return this.corners[3].y},e}();t.Obstacle=a;var s=function(){function e(e,t,r){this.obstacles=[],this.mapAngle=e,this.padding=t,this.isScreenAligned=r,this.minzoom=u}return e.prototype.addBox=function(e,t,r,i,o,s,u){var l=t.left*r-this.padding,f=t.top*r-this.padding,c=t.right*r+this.padding,h=t.bottom*r+this.padding,d=[new n.Point(l,f),new n.Point(c,f),new n.Point(c,h),new n.Point(l,h)];if(0!==this.mapAngle){var x=Math.cos(this.mapAngle),p=Math.sin(this.mapAngle);(e=e.clone()).rotate(x,p)}if(this.isScreenAligned||(i+=this.mapAngle),0!==i){x=Math.cos(i),p=Math.sin(i);d[0].rotate(x,p),d[1].rotate(x,p),d[2].rotate(x,p),d[3].rotate(x,p);for(var y=0,_=1;_<4;_++)d[_].x<d[y].x?y=_:d[_].x===d[y].x&&d[_].y<d[y].y&&(y=_);if(y){var g=[];for(_=0;_<4;_++)g.push(d[(_+y)%4]);d=g}}if(o)for(var v=0,m=d;v<m.length;v++){m[v].move(o[0],o[1])}this.obstacles.push(new a(e,d,s,u))},e}();t.Footprint=s;var u=.5,l=function(){function e(){this._grid=[]}return e.prototype.setAngle=function(e){},e.prototype.reset=function(){this._grid=[]},e.prototype.add=function(t){for(var r=this._grid,i=0,n=t.obstacles;i<n.length;i++)for(var o=n[i],a=o.anchor,s=e._gridClamp(Math.min(o.left()+a.x,a.x)),u=e._gridClamp(Math.max(o.right()+a.x,a.x)),l=e._gridClamp(Math.min(o.top()+a.y,a.y)),f=e._gridClamp(Math.max(o.bottom()+a.y,a.y)),c=l;c<=f;c++)for(var h=s;h<=u;h++){var d=r[16*c+h];d||(d=r[16*c+h]=[]),d.push(o)}},e.prototype.getMinZoom=function(t,r,n,o){if(0===t.obstacles.length)return i.C_INFINITY;for(var a=r,s=this._grid,u=0,l=t.obstacles;u<l.length;u++)for(var f=l[u],c=f.anchor,h=e._gridClamp(Math.min(f.left()+c.x,c.x)),d=e._gridClamp(Math.max(f.right()+c.x,c.x)),x=e._gridClamp(Math.min(f.top()+c.y,c.y)),p=e._gridClamp(Math.max(f.bottom()+c.y,c.y)),y=x;y<=p;y++)for(var _=h;_<=d;_++){var g=s[16*y+_];if(g)for(var v=0,m=g;v<m.length;v++){var I=m[v];if(!(f.minzoom>=I.maxzoom||I.minzoom>=f.maxzoom)&&(a=e._calcPlacementZoom(f,I,a))>=2)return i.C_INFINITY}}return a<2?a:i.C_INFINITY},e._gridClamp=function(e){return r.clamp(e>>9,-7,8)},e._calcPlacementZoom=function(t,r,n){var o=r.anchor.x-t.anchor.x;if(0===o&&(t.right()<r.left()||r.right()<t.left()))return n;var a=r.anchor.y-t.anchor.y;if(0===a&&(t.bottom()<r.top()||r.bottom()<t.top()))return n;var s=i.C_INFINITY;if(0!==o){var u=(o>0?t.right()-r.left():t.left()-r.right())/o;u<s&&(s=u);var l=o>0?e._calcExtZoomX(t,r,u):e._calcExtZoomX(r,t,u);l<s&&(s=l)}if(0!==a){var f=(a>0?t.bottom()-r.top():t.top()-r.bottom())/a;f<s&&(s=f);var c=a>0?e._calcExtZoomY(t,r,f):e._calcExtZoomY(r,t,f);c<s&&(s=c)}return s<t.minzoom||s<r.minzoom?n:((s=Math.min(s,t.maxzoom,r.maxzoom))<n&&(s=n),s)},e._calcExtZoomX=function(e,t,r){var i,n,o,a;if(e.anchor.y+e.corners[2].y/r<t.anchor.y+t.corners[0].y/r){var s=e.corners[2].x-e.corners[3].x,u=e.corners[2].y-e.corners[3].y,l=t.corners[1].x-t.corners[0].x;s*(t.corners[1].y-t.corners[0].y)-u*l>=0?e.anchor.y+e.corners[3].y/r<t.anchor.y+t.corners[0].y/r?(i=e.corners[3],n=t.corners[0],o=t.corners[1],a=1):(i=t.corners[0],n=e.corners[3],o=e.corners[2],a=-1):e.anchor.y+e.corners[2].y/r>t.anchor.y+t.corners[1].y/r?(i=e.corners[2],n=t.corners[0],o=t.corners[1],a=1):(i=t.corners[1],n=e.corners[3],o=e.corners[2],a=-1)}else{s=e.corners[2].x-e.corners[1].x,u=e.corners[2].y-e.corners[1].y,l=t.corners[3].x-t.corners[0].x;s*(t.corners[3].y-t.corners[0].y)-u*l<0?e.anchor.y+e.corners[1].y/r>t.anchor.y+t.corners[0].y/r?(i=e.corners[1],n=t.corners[0],o=t.corners[3],a=1):(i=t.corners[0],n=e.corners[1],o=e.corners[2],a=-1):e.anchor.y+e.corners[2].y/r<t.anchor.y+t.corners[3].y/r?(i=e.corners[2],n=t.corners[0],o=t.corners[3],a=1):(i=t.corners[3],n=e.corners[1],o=e.corners[2],a=-1)}var f=o.x-n.x,c=o.y-n.y;return a*((i.y-n.y)*f-(i.x-n.x)*c)/((e.anchor.x-t.anchor.x)*c-(e.anchor.y-t.anchor.y)*f)},e._calcExtZoomY=function(e,t,r){var i,n,o,a;if(e.anchor.x+e.corners[3].x/r<t.anchor.x+t.corners[1].x/r){var s=e.corners[3].x-e.corners[2].x,u=e.corners[3].y-e.corners[2].y,l=t.corners[0].x-t.corners[1].x;s*(t.corners[0].y-t.corners[1].y)-u*l<0?e.anchor.x+e.corners[2].x/r<t.anchor.x+t.corners[1].x/r?(i=e.corners[2],n=t.corners[1],o=t.corners[0],a=1):(i=t.corners[1],n=e.corners[2],o=e.corners[3],a=-1):e.anchor.x+e.corners[3].x/r>t.anchor.x+t.corners[0].x/r?(i=e.corners[3],n=t.corners[1],o=t.corners[0],a=1):(i=t.corners[0],n=e.corners[2],o=e.corners[3],a=-1)}else{s=e.corners[3].x-e.corners[0].x,u=e.corners[3].y-e.corners[0].y,l=t.corners[2].x-t.corners[1].x;s*(t.corners[2].y-t.corners[1].y)-u*l>0?e.anchor.x+e.corners[0].x/r>t.anchor.x+t.corners[1].x/r?(i=e.corners[0],n=t.corners[1],o=t.corners[2],a=1):(i=t.corners[1],n=e.corners[0],o=e.corners[3],a=-1):e.anchor.x+e.corners[3].x/r<t.anchor.x+t.corners[2].x/r?(i=e.corners[3],n=t.corners[1],o=t.corners[2],a=1):(i=t.corners[2],n=e.corners[0],o=e.corners[3],a=-1)}var f=o.x-n.x,c=o.y-n.y;return a*((i.y-n.y)*f-(i.x-n.x)*c)/((e.anchor.x-t.anchor.x)*c-(e.anchor.y-t.anchor.y)*f)},e}();t.ConflictEngine=l}.apply(null,i))||(e.exports=n)},2324:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(12),r(1471),r(8),r(1786),r(1787),r(2325),r(1788),r(1789),r(2326),r(1791),r(1633),r(1700)],void 0===(n=function(e,t,r,i,n,o,a,s,u,l,f,c,h,d,x){var p=1;return function(){function e(e,t,r){this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=t,this._layers=t.getLayers();var i=t.tileKey.split("/").map(parseFloat),o=i[0],a=i[1],s=i[2];this._level=o;for(var u=Math.max(8,Math.round(p*this._level)-8),l=0,f=Object.keys(e);l<f.length;l++){var c=f[l],h=e[c];if(this._pbfTiles[c]=new n(new Uint8Array(h.protobuff),new DataView(h.protobuff)),h.refKey){var x=o-h.refKey.split("/").map(parseFloat)[0];if(x>0){var y=(1<<x)-1,_=a&y,g=s&y;this._tileClippers[c]=new d.TileClipper(x,_,g,8,u)}}this._tileClippers[c]||(this._tileClippers[c]=new d.SimpleBuilder)}}return e.prototype.parse=function(e){return i(this,void 0,void 0,function(){var t,i,n,a,s,l,f,c,h,d,p,y,_,g,v,m,I,V,B,b,D,w,T,E,k,M,P,C,z,S,N,A,L,O,F,j,R,U,G,Y,K,Z,H,q,W,J,X,Q,$,ee,te,re,ie,ne,oe,ae,se,ue=this;return r(this,function(r){for(t=e&&e.signal,i=this._parseTileData(this._pbfTiles),n=this._layers,a=this._level,l=[],f=this._tileClippers,c={},h={},d=n.length-1;d>=0;d--)(s=n[d]).minzoom&&a<s.minzoom||s.maxzoom&&a>=s.maxzoom||s.layout&&s.layout.visibility&&"none"===s.layout.visibility||(0!==s.type?i[s.source]&&f[s.source]&&(z=i[s.source],p=f[s.source],q=s.sourceLayer,(S=z[q])&&((y=h[s.source])||(y=h[s.source]=new Set),y.add(s.sourceLayer),(ee=this._createBucket(s))&&(ee.layerIndex=d,ee.layerExtent=S.extent,ee.tileClipper=p,(N=c[s.source])||(N=c[s.source]={}),(_=N[q])||(_=N[q]=[]),_.push(ee)))):((ee=this._createBucket(s)).layerIndex=d,l.push(ee)));for(g=10*this._level,v=10*(this._level+1),m=[],I=[],V=[],B=[],b=new Set,D={},w=[],T=[],E=function(e){h[e].forEach(function(t){w.push(t),T.push(e)})},k=0,M=Object.keys(h);k<M.length;k++)Z=M[k],E(Z);for(P=0;P<w.length&&(Z=T[P],C=w[P],i[Z]&&c[Z])&&(z=i[Z],S=z[C],N=c[Z],(W=N[C])&&0!==W.length);P++){if(o.isAborted(t))return[2];for(A=S.getData();A.next(2);){if(L=new u(A.getMessage(),S),O=L.values){if((F=O._minzoom)&&F>=v)continue;if((j=O._maxzoom)&&j<=g)continue}for(R=0,U=W;R<U.length;R++)(ee=U[R]).pushFeature(L)}}for(G=this._tile,Y=0,K=Object.keys(c);Y<K.length;Y++)for(q in Z=K[Y],H=c[Z])for(W=H[q],J=0,X=W;J<X.length;J++)(ee=X[J]).hasFeatures()&&(3===ee.layer.type?(m.push(ee),G.addBucket(ee)):ee.layer.refLayerId?V.push(ee):(I.push(ee),B[ee.layer.id]=ee));for(Q=0,$=m;Q<$.length;Q++)ee=$[Q],(te=ee).getResources(te.tileClipper,b,D);if(this._tile.status===x.TileStatus.INVALID)return[2,o.resolve([])];for(ae in re=[],ie=this._tile.getWorkerTileHandler(),b.size>0&&(ne=ie.fetchSprites(b,this._client,e),re.push(ne)),D)(se=D[ae]).size>0&&(oe=ie.fetchGlyphs(this._tile.tileKey,ae,se,this._client,e),re.push(oe));return[2,o.all(re).then(function(){for(var e=0,t=I;e<t.length;e++){var r=t[e];r.processFeatures(r.tileClipper,ue._tile),l.push(r)}for(var i=0,n=V;i<n.length;i++){var o=n[i],a=B[o.layer.refLayerId];a&&(a.assignBufferInfo(o),l.push(o))}for(var s=0,u=m;s<u.length;s++){var f=u[s];f.processFeatures(f.tileClipper,ue._tile),l.push(f)}return l.sort(function(e,t){return e.layerIndex-t.layerIndex}),l})]})})},e.prototype._parseTileData=function(e){for(var t={},r=0,i=Object.keys(e);r<i.length;r++){for(var n=i[r],o=e[n],a={};o.next();)switch(o.tag()){case 3:var s=new c(o.getMessage());a[s.name]=s;break;default:o.skip()}t[n]=a}return t},e.prototype._createBucket=function(e){switch(e.type){case 0:return this._createBackgroundBucket(e);case 1:return this._createFillBucket(e);case 2:return this._createLineBucket(e);case 4:return this._createCircleBucket(e);case 3:return this._createSymbolBucket(e)}},e.prototype._createBackgroundBucket=function(e){return new a(e,this._level)},e.prototype._createFillBucket=function(e){var t=this._tile;return new l(e,this._level,e.hasDataDrivenFill?t.fillDDVertexBuffer:t.fillVertexBuffer,t.fillIndexBuffer,e.hasDataDrivenOutline?t.outlineDDVertexBuffer:t.outlineVertexBuffer,t.outlineIndexBuffer)},e.prototype._createLineBucket=function(e){var t=this._tile;return new f(e,this._level,e.hasDataDrivenLine?t.lineDDVertexBuffer:t.lineVertexBuffer,t.lineIndexBuffer)},e.prototype._createCircleBucket=function(e){var t=this._tile;return new s(e,this._level,t.circleVertexBuffer,t.circleIndexBuffer)},e.prototype._createSymbolBucket=function(e){var t=this._tile;return new h(e,this._level,e.hasDataDrivenIcon?t.iconDDVertexBuffer:t.iconVertexBuffer,t.iconIndexBuffer,e.hasDataDrivenText?t.textDDVertexBuffer:t.textVertexBuffer,t.textIndexBuffer,t.placementEngine,t.getWorkerTileHandler())},e}()}.apply(null,i))||(e.exports=n)},2325:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1544)],void 0===(n=function(e,t,r){return function(){function e(e,t){this.values={};for(var r=t.keys,i=t.values;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:for(var n=e.getMessage(),o=this.values;!n.empty();){var a=n.getUInt32(),s=n.getUInt32();o[r[a]]=i[s]}break;case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}return e.prototype.getGeometry=function(e){if(void 0!==this._geometry)return this._geometry;var t,i,n,o=this._pbfGeometry;e?e.reset(this.type):t=[];for(var a=1,s=0,u=0,l=0;!o.empty();){if(0===s){var f=o.getUInt32();a=7&f,s=f>>3}switch(s--,a){case 1:u+=o.getSInt32(),l+=o.getSInt32(),e?e.moveTo(u,l):(i&&t.push(i),(i=[]).push(new r.Point(u,l)));break;case 2:u+=o.getSInt32(),l+=o.getSInt32(),e?e.lineTo(u,l):i.push(new r.Point(u,l));break;case 7:e?e.close():i&&!i[0].equals(u,l)&&i.push(i[0].clone());break;default:throw new Error("Invalid path operation")}}return e?n=e.result():(i&&t.push(i),n=t),this._geometry=n,n},e}()}.apply(null,i))||(e.exports=n)},2326:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(t){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=t.clone();t.next();)switch(t.tag()){case 1:this.name=t.getString();break;case 3:this.keys.push(t.getString());break;case 4:this.values.push(e._parseValue(t.getMessage()));break;case 5:this.extent=t.getUInt32();break;default:t.skip()}}return e.prototype.getData=function(){return this._pbfLayer},e._parseValue=function(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null},e}()}.apply(null,i))||(e.exports=n)},2327:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(5),r(554),r(1638)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=new Float32Array(1),a=new Uint32Array(o.buffer),s=function(e){function t(t){var r=e.call(this,t?20:12)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,i,s,u,l,f){var c=this.array,h=n.i1616to32(e,t);if(c.push(h),h=n.i8888to32(Math.round(31*r),Math.round(31*i),Math.round(31*s),Math.round(31*u)),c.push(h),h=n.i1616to32(l,0),c.push(h),this._isDataDriven){if(!f)throw new Error("Expecting data driven values.");var d=f.color,x=d[3]*f.opacity*255;c.push(n.i8888to32(d[0]*x,d[1]*x,d[2]*x,x)),o[0]=f.size,c.push(a[0])}},t}(n);t.LineVertexBuffer=s;var u=function(e){function t(t){var r=e.call(this,t?8:4)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r){var i=this.array;if(i.push(n.i1616to32(e,t)),this._isDataDriven){if(!r)throw new Error("Expecting data driven values.");var o=r.color,a=o[3]*r.opacity*255;i.push(n.i8888to32(o[0]*a,o[1]*a,o[2]*a,a))}},t}(n);t.FillVertexBuffer=u;var l=function(e){function t(t){var r=e.call(this,t?12:8)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,i,o,a,s){var u=this.array,l=this.index,f=n.i1616to32(e,t);if(u.push(f),f=n.i8888to32(Math.round(15*r),Math.round(15*i),o,a),u.push(f),this._isDataDriven){if(!s)throw new Error("Expecting data driven values.");var c=s.color,h=c[3]*s.opacity*255;u.push(n.i8888to32(c[0]*h,c[1]*h,c[2]*h,h))}return l},t}(n);t.OutlineVertexBuffer=l;var f=function(e){function t(t){var r=e.call(this,t?24:16)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,s,u,l,f,c,h,d,x){var p=this.array,y=n.i1616to32(e,t);if(p.push(y),y=n.i1616to32(Math.round(8*r),Math.round(8*s)),p.push(y),y=n.i8888to32(u/4,l/4,0,0),p.push(y),y=n.i8888to32(Math.ceil(10*d),i.radToByte(f),10*c,Math.min(10*h,255)),p.push(y),this._isDataDriven){if(!x)throw new Error("Expecting data driven values.");var _=x.color,g=_[3]*x.opacity*255;p.push(n.i8888to32(_[0]*g,_[1]*g,_[2]*g,g)),o[0]=x.size,p.push(a[0])}},t}(n);t.SymbolVertexBuffer=f;var c=function(e){function t(){return e.call(this,16)||this}return r(t,e),t.prototype.add=function(e,t,r,i,o,a,s,u,l,f,c){var h=this.array,d=n.i1616to32(2*e+r,2*t+i);h.push(d);var x=a[3]*s*255;d=n.i8888to32(a[0]*x,a[1]*x,a[2]*x,x),h.push(d);var p=f[3]*c*255;d=n.i8888to32(f[0]*p,f[1]*p,f[2]*p,p),h.push(d),d=n.i8888to32(Math.min(32*u,255),Math.min(4*l,255),Math.min(o,255),0),h.push(d)},t}(n);t.CircleVertexBuffer=c}.apply(null,i))||(e.exports=n)}}]);